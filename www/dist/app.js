window.VERSION = "0.0.1";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"http://backend.educacion.thor.datauy.org"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,t,n){t.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!1),cordova.plugins.Keyboard.disableScroll(!1)),ionic.Platform.isFullScreen=!0,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,t,n,o){n.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"AbsController"}).state("app.index",{cache:!1,url:"/index",views:{menuContent:{templateUrl:"templates/static/app.component.html",controller:"IndexController"}}}).state("app.contact",{cache:!1,url:"/contact",views:{menuContent:{templateUrl:"templates/static/contact.component.html",controller:"ContactController"}}}).state("app.map",{cache:!1,url:"/map",views:{menuContent:{templateUrl:"templates/map.html",controller:"MapController"}}}).state("app.form",{cache:!1,url:"/form",views:{menuContent:{templateUrl:"templates/form.html",controller:"FormCtrl"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),t.otherwise("/app/map")}]),pmb_im.controllers.controller("AbsController",["$scope",function(e){}]),pmb_im.controllers.controller("FormCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService","$ionicSlideBoxDelegate","$ionicScrollDelegate",function(e,t,n,o,a,r,i,s,l,c){e.form={},e.form.edad=16,e.form.plan="",e.form.lugar="",e.form.turno="",e.form.nivel_aprobado="",e.next=function(){l.next()},e.previous=function(){l.previous()},e.go_to_map=function(){t.go("app.map")}}]),pmb_im.controllers.controller("IndexController",["$scope",function(e){}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,t,n,o,a,r,i,s){var l=s.initDB();l.info().then(console.log.bind(console)),e.geolocate=function(){var e={timeout:3500,enableHighAccuracy:!0};n.getCurrentPosition(e).then(function(e){i.save_initial_position(e),t.go("app.form")},function(e){t.go("app.form")})},e.$on("$ionicView.enter",function(){null!=i.council_modal&&(i.council_modal.hide(),i.council_modal.remove()),e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","_","$cordovaCamera","$cordovaGeolocation","$compile","$ionicModal","$ionicPopup","leafletData","ConfigService","LocationsService","CkanService","PinService","AuthService","UserService","DBService","$timeout","$interval","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","PopUpService","ConnectivityService","$cordovaInAppBrowser","MapService","ModalService","SemaphoreService","ValidationService",function(e,t,n,o,a,r,i,s,l,c,u,p,d,m,_,g,f,h,v,y,b,w,I,P,k,O,A,D){e.asentamientos_layers=new Array,e.baseURL=l.baseURL,e.AppName=l.AppName,e.user_cached_image="./img/icon-user-anonymous.png",e.one_value_popup=null,e.myIntervals=new Array,e.$on("$ionicView.beforeEnter",function(){O.checkNoModalIsOpen(),_.initDB(),I.isOnline()?e.check_user_logged():e.set_offline_user(),I.isOnline()&&e.create_online_map()}),e.$on("$ionicView.afterEnter",function(){s.getMap();""!=c.initial_lat?k.centerMapOnCoords(c.initial_lat,c.initial_lng,10):k.centerMapOnCoords(-34.901113,-56.164531,10),document.getElementById("spinner").style.display="none"}),e.openWebsite=function(e){var t={location:"no",clearcache:"yes",toolbar:"no"};P.open(e,"_blank",t).then(function(e){})["catch"](function(e){})},e.create_online_map=function(){e.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:1,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}},center:{}},e.loadPinsLayer(),e.map.center={lat:-34.901113,lng:-56.164531,zoom:10},s.getMap().then(function(t){t.on("moveend",e.hideOffScreenPins)})},e.next=function(){y.next()},e.previous=function(){y.previous()},e.back_to_map=function(e){e?(O.checkNoModalIsOpen(),document.getElementById("spinner-inside-modal").style.display="none"):document.getElementById("spinner-inside-modal").style.display="none"},e.image=null,e.addImage=function(t,o,a,r){e.isUserPhoto=o,e.isCommentPhoto=a,e.isNewUserPhoto=r;var i=Camera.PictureSourceType.CAMERA,s=!0,l=!0;1==t&&(i=Camera.PictureSourceType.PHOTOLIBRARY,s=!1,l=!1);var c={quality:90,destinationType:Camera.DestinationType.FILE_URI,sourceType:i,allowEdit:!1,correctOrientation:s,encodingType:Camera.EncodingType.JPEG,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:l,targetWidth:500,targetHeight:500};n.getPicture(c).then(function(t){function n(t){window.FilePath.resolveNativePath(t,function(n){t="file://"+n,n.startsWith("file://")&&(t=n),1==e.isUserPhoto?e.profile.picture_url=t:1==e.isCommentPhoto?e.comment.file=t:1==e.isNewUserPhoto&&(e.newuser.picture_url=t),e.imgURI=t},function(e){alert("Error resolveNativePath"+e)})}n(t)},function(e){})},e.urlForImage=function(){var t="http://placehold.it/200x200";if(e.image){var n=e.image.substr(e.image.lastIndexOf("/")+1);t=cordova.file.dataDirectory+n}return t},e.scrollMe=function(e){h.hash(e);var t=b.$getByHandle("content");t.anchorScroll()},e.set_active_option=function(e){document.getElementById(e).className="option-active"},e.hide_special_divs=function(){},e.close_report_detail_modal=function(){O.checkNoModalIsOpen(),e.report_detail_id=null},e.locate=function(){o.getCurrentPosition().then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,e.map.center.zoom=15,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"You Are Here",focus:!0,draggable:!1}},function(e){})},e.addMapControls=function(){document.getElementById("map_crosshair").style.display="block",document.getElementById("map_crosshair_button").style.display="block"},e.changeUserLocationPin=function(t,n,o){if(e.online_user_geo_array[o]){layer=e.online_user_geo_array[o];var a=new L.LatLng(t,n);layer.setLatLng(a)}},e.hideOffScreenPins=function(){},e.loadPinsLayer=function(){document.getElementById("spinner").style.display="block",s.getMap().then(function(t){u.getAllPolygons().then(function(n){(null==u.lastPinsResponse||u.lastPinsResponse&&u.lastPinsResponse!=n)&&(e.asentamientos_layers&&e.asentamientos_layers.forEach(function(e,n){t.removeLayer(e)}),u.lastPinsResponse=n.data,console.log(u.lastPinsResponse),u.lastPinsResponse.result.records.forEach(function(n){if("Polygon"==e.getTypeOfMapObject(n.wkt_geom)){var o=e.getOnlyCoordinatesPolygon(n.wkt_geom);L.polygon(o,{color:"red"}).bindPopup(n.NOM_AST+" - "+n.COD_AST+" - "+n.wkt_geom).addTo(t)}else"MultiPolygon"==e.getTypeOfMapObject(n.wkt_geom)}),document.getElementById("spinner").style.display="none")})})},e.getOnlyCoordinatesPolygon=function(t){t=t.replace("Polygon ((",""),t=t.replace("))","");var n=t.split(","),o=new Array;return n.forEach(function(t,n){t=t.trim();var a=t.split(" "),r=a[0],i=a[1],s=p.convertLatLongProj(r,i,e),l=[s.lat,s.lng];o.push(l)}),o},e.getTypeOfMapObject=function(e){return e.startsWith("MultiPolygon")?"MultiPolygon":e.startsWith("Polygon")?"Polygon":void 0},e.timeConverter=function(e){var t=new Date(1e3*e),n=t.getFullYear(),o=t.getMonth();o<10&&(o="0"+o);var a=t.getDate();a<10&&(a="0"+a);var r=t.getHours();r<10&&(r="0"+r);var i=t.getMinutes();i<10&&(i="0"+i);var s=(t.getSeconds(),a+"/"+o+"/"+n+" "+r+":"+i);return s},e.model=[],e.externalModel=[],e.selectedItems=[],e.preselectedSearchItems=[],e.clickedValueModel="",e.removedValueModel="",e.itemsRemoved=function(t){e.removedValueModel=t},e.user_options=function(){},e.show_anonymous_menu=function(){},e.show_user_menu=function(){},e.create_field_array=function(e,t,n){var o=new Array;return o.name=e,o.type=t,o.value=n,o},e.create_field_array_with_twoFields=function(e,t,n,o){var a=new Array;return a.name=e,a.type=t,a.value=n,a.secondValue=o,a},e.fix_fb_image_link=function(e){if(e.indexOf("http://graph.facebook.com")>=0){var t=e.split("http://graph.facebook.com"),n="http://graph.facebook.com"+t[1];return n}return e},e.log_in=function(t,n){if(A.takeIfAvailable("submit-form"))if(I.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(e.create_field_array("Usuario","notNull",t)),o.push(e.create_field_array("Contraseña","notNull",n)),v.check_fields(o,"error_container")?d.log_in(t,n).then(function(t){v.http_response_is_successful(t,"error_container")?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),m.save_user_data(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,e.nonauth.password,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"),e.close_login_modal()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"),v.show_error_message("error_container",e.statusText)}):(document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"))}else A.makeAvailableAgain("submit-form"),w.show_alert("Sin conexión a internet","Para iniciar sesión debe estar conectado a internet")},e.log_in_background=function(t,n){d.log_in(t,n).then(function(t){return v.http_response_is_successful_ajax(t)?(photo=e.fix_fb_image_link(e.getObjectDataFromResponse(t).Photo),"anon"==photo&&(photo="url(./img/icon-user-anonymous.png)"),m.save_user_data(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,n,photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),e.set_user_picture(1),1):0},function(e){return 0})},e.sign_out=function(){m.erase_user_data(),_.eraseUser(),document.getElementById("spinner").style.display="none",e.set_user_picture(0)},e.show_edit_profile_modal=function(){A.takeIfAvailable("open-modal")&&(document.getElementById("spinner").style.display="block",e.newuser=new Array,e.newuser.email=m.email,e.newuser.gender=m.gender,e.newuser.username=m.name,e.newuser.interested=m.interested,e.newuser.status=m.status,e.newuser.show_location=m.show_location,e.actual_photo=m.picture_url,null!=e.actual_photo||(e.actual_photo="./img/icon-user-anonymous.png"),"url(./img/icon-user-anonymous.png)"==e.actual_photo&&(e.actual_photo="./img/icon-user-anonymous.png"),O.checkNoModalIsOpen(),D.isMobileDevice()?r.fromTemplateUrl("templates/edit_profile_with_photo.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("spinner").style.display="none",O.activeModal=e,O.activeModal.show(),A.makeAvailableAgain("open-modal")}):r.fromTemplateUrl("templates/edit_profile_with_photo_desktop.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){document.getElementById("spinner").style.display="none",O.activeModal=e,O.activeModal.show(),A.makeAvailableAgain("open-modal")}))},e.readURL=function(t,n){if(t.files&&t.files[0]){1==n?e.newuser.picture_url=t.files[0]:2==n?e.comment.photo=t.files[0]:e.report.file=t.files[0];var o=new FileReader;o.onload=function(e){document.getElementById("myImage").src=e.target.result},o.readAsDataURL(t.files[0])}},e.close_edit_profile_modal=function(){O.checkNoModalIsOpen()},e.edit_profile_ok=function(){e.edit_profile()},e.getObjectDataFromResponse=function(e){return e.data?e.data:e},e.edit_profile=function(){if(A.takeIfAvailable("submit-form"))if(I.isOnline()){document.getElementById("spinner-inside-modal").style.display="block",e.newuser.password=m.password;var t=d.edit_user(e.newuser);null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&D.isMobileDevice()?t.then(function(t){var n=JSON.parse(t.response);v.http_data_response_is_successful(n,"error_container")?(n=e.getObjectDataFromResponse(n),m.save_user_data(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),_.saveUser(n.Name,e.newuser.password,n.Photo,n.ShowLocation,n.Uid,n.Estado,n.Gender,n.InterestedIn),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){var t="Código: "+e.code;t=t+" Origen: "+e.source,t=t+" Destino: "+e.target,t=t+" http_status: "+e.http_status,t=t+" Body: "+e.body,t=t+" Exception: "+e.exception,v.show_error_message("error_container","Hubo un error en el envío: "+t),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(t){g(function(){e.uploadProgress=t.loaded/t.total*100,document.getElementById("sent_label").innerHTML="Enviado: "+Math.round(e.uploadProgress)+"%"})}):t.success(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",v.http_response_is_successful(t,"error_container")?(m.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form"),e.close_edit_profile_modal(),e.check_user_logged()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")}).error(function(e,t,n,o){v.show_error_message("error_container",t),document.getElementById("spinner-inside-modal").style.display="none",A.makeAvailableAgain("submit-form")})}else A.makeAvailableAgain("submit-form"),w.show_alert("Sin conexión a internet","Para editar su perfil debe estar conectado a internet")},e.show_login_modal=function(){A.takeIfAvailable("open-modal")&&(e.nonauth=new Array,e.nonauth.user="",e.nonauth.password="",O.checkNoModalIsOpen(),r.fromTemplateUrl("templates/log_in.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),O.activeModal=t,A.makeAvailableAgain("open-modal"),O.activeModal.show()}))},e.login_ok=function(){e.log_in(e.nonauth.user,e.nonauth.password)},e.close_login_modal=function(){O.checkNoModalIsOpen()},e.show_sign_up_modal=function(){A.takeIfAvailable("open-modal")&&(e.newuser=new Array,e.newuser.email="",e.newuser.password="",e.newuser.fullname="",e.newuser.id_doc="",e.newuser.telephone="",e.newuser.photo="",O.checkNoModalIsOpen(),D.isMobileDevice()?r.fromTemplateUrl("templates/sign_up.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),O.activeModal=t,A.makeAvailableAgain("open-modal"),O.activeModal.show()}):r.fromTemplateUrl("templates/sign_up_desktop.html",{scope:e,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(t){e.hide_special_divs(),O.activeModal=t,A.makeAvailableAgain("open-modal"),O.activeModal.show()}))},e.close_sign_up_modal=function(){O.checkNoModalIsOpen()},e.sign_up=function(){if(A.takeIfAvailable("submit-form"))if(I.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";new Array;null!=e.newuser.picture_url&&""!=e.newuser.picture_url&&D.isMobileDevice()?d.create_user(e.newuser).then(function(t){document.getElementById("sent_label").innerHTML="Enviado: 100%",v.http_data_response_is_successful(t,"error_container")?(t=e.getObjectDataFromResponse(t),m.save_user_data(t.name,t.email,e.newuser.password,t.identity_document,t.phone,t.picture_url),m.save_user_data(t.Name,e.newuser.password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),_.saveUser(t.Name,password,t.Photo,t.ShowLocation,t.Uid,t.Estado,t.Gender,t.InterestedIn),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_edit_profile_modal(),e.check_user_logged()):(A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none")},function(e){A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"}):d.create_user(e.newuser).then(function(t){if(v.http_response_is_successful(t,"error_container")){m.save_user_data(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),_.saveUser(e.getObjectDataFromResponse(t).Name,e.newuser.password,e.getObjectDataFromResponse(t).Photo,e.getObjectDataFromResponse(t).ShowLocation,e.getObjectDataFromResponse(t).Uid,e.getObjectDataFromResponse(t).Estado,e.getObjectDataFromResponse(t).Gender,e.getObjectDataFromResponse(t).InterestedIn),A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",e.close_sign_up_modal();var n=i.alert({title:"Usuario creado con éxito",template:e.getObjectDataFromResponse(t).message});n.then(function(e){}),e.check_user_logged()}else A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none"},function(e){A.makeAvailableAgain("submit-form"),document.getElementById("spinner-inside-modal").style.display="none",v.show_error_message("error_container",e.statusText)})}else A.makeAvailableAgain("submit-form"),w.show_alert("Sin conexión a internet","Para iniciar registrarse debe estar conectado a internet")},e.sign_up_ok=function(){e.sign_up()},e.check_user_logged=function(){var t=m.name;if(null==t){var n=_.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?e.log_in_background(t.name,t.password):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==m.picture_url||""==m.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_offline_user=function(){var t=m.name;if(null==t){var n=_.getUser();n.then(function(t){null!=t.name&&""!=t.name&&"undefined"!=t.name?m.save_user_data(t.name,t.password,t.picture_url,t.show_location):e.set_user_picture(0)})["catch"](function(t){e.set_user_picture(0)})}else null==m.picture_url||""==m.picture_url?e.set_user_picture(0):e.set_user_picture(1)},e.set_user_picture=function(t){document.getElementById("user_picture");0==t?e.user_cached_image="./img/icon-user-anonymous.png":null!=m.picture_url&&""!=m.picture_url?e.user_cached_image=m.picture_url:e.user_cached_image="./img/icon-user-anonymous.png"},e.find_me=function(){e.set_active_option("button-find-me"),e.hide_special_divs();var t={timeout:1e4,enableHighAccuracy:!0};o.getCurrentPosition(t).then(function(t){e.map.center.lat=t.coords.latitude,e.map.center.lng=t.coords.longitude,c.save_new_report_position(t.coords.latitude,t.coords.longitude),I.isOnline()?e.map.center.zoom=18:e.map.center.zoom=16,e.map.markers.now={lat:t.coords.latitude,lng:t.coords.longitude,message:"<p align='center'>Te encuentras aquí <br/> <a ng-click='new_report(1);'>Iniciar reporte en tu posición actual</a></p>",focus:!0,draggable:!1,getMessageScope:function(){return e}}},function(t){e.openCouncilSelector()})},e.submitFilters=function(){console.log(e.filters),e.GetData(e.filters)},e.toggleGroup=function(t){console.log(t),e.isGroupShown(t)?e.shownGroup=null:e.shownGroup=t},e.isGroupShown=function(t){return e.shownGroup===t}}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService","ValidationService",function(e,t,n,o){var a=n.baseURL+"/api/";return{log_in:function(t,n){var o="user="+t+"&password="+n;return e.post(a+"login",o,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},sign_out:function(t,n){return e.get(a+"sign_out",{withCredentials:!0,params:{password_sign_in:t,email:n}})},create_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"create_user",n.picture_url,r,i)}if(n.picture_url){var s=new FormData;return s.append("photo",n.picture_url),s.append("user",n.username),s.append("password",n.password),s.append("email",n.email),s.append("gender",n.gender),s.append("interested",n.interested),s.append("status",n.status),s.append("show_location",n.show_location),e.post(a+"create_user",s,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}var l="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;return l=l+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,e.post(a+"create_user",l,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},password_recovery:function(t){return e.get(a+"forgot_password",{params:{login_email:t}})},password_change:function(t,n,o,r){var i="email="+t+"&password_sign_in="+n+"&new_password="+o+"&confirm="+r;return e.post(a+"change_password",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},edit_user:function(n){if(n.picture_url&&o.isMobileDevice()){var r={fileKey:"photo",withCredentials:!0,params:{user:n.username,password:n.password,email:n.email,gender:n.gender,interested:n.interested,status:n.status,show_location:n.show_location}},i=!0;return t.upload(a+"edit_profile",n.picture_url,r,i)}var s="user="+n.username+"&password="+n.password+"&email="+n.email+"&gender="+n.gender;if(s=s+"&interested="+n.interested+"&status="+n.status+"&show_location="+n.show_location,n.picture_url){var l=new FormData;return l.append("photo",n.picture_url),l.append("user",n.username),l.append("password",n.password),l.append("email",n.email),l.append("gender",n.gender),l.append("interested",n.interested),l.append("status",n.status),l.append("show_location",n.show_location),e.post(a+"edit_profile",l,{headers:{"Content-Type":void 0},transformRequest:angular.identity})}return e.post(a+"edit_profile",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}]),pmb_im.services.factory("CkanService",["$http","leafletData","ConfigService",function(e,t,n){return{lastPinsResponse:null,getAllPolygons:function(){return e.get(n.ckanAllPolygonsURL,{headers:{Authorization:"d7e78b6e-3eed-4d69-8387-ab0196121a51"}})}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var t={};return t.baseURL="http://backend.techouy.thor.datauy.org",t.ckanAllPolygonsURL="/ckan",t.AppName="TECHO UY",t}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return!0},isOffline:function(){return!1}}}]),pmb_im.services.factory("DBService",["$q",function(e){function t(e,t,o,a,r,i,s,l){var c={_id:"user-logged",name:e,password:t,picture_url:o,show_location:a,uid:r,status:i,gender:s,interested:l};n().then(function(e){return c._rev=e._rev,m.put(c)})["catch"](function(e){return m.put(c)})}function n(){return m.get("user-logged")}function o(){m.get("user-logged").then(function(e){return m.remove(e)})}function a(){return m=new PouchDB("tomamosuna_local_db")}function r(e){var t=new Date,n="report_"+t.getFullYear()+(t.getMonth()+1)+t.getDate()+t.getMilliseconds();return e._id=n,m.put(e)}function i(e){return m.put(e)}function s(){return m.get("categories-list")}function l(e){s().then(function(t){return e._rev=t._rev,m.put(e)})["catch"](function(t){return e._id="categories-list",m.put(e)})}function c(e){return m.get(e)}function u(){return m.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_￿"})}function p(e){m.get(e).then(function(e){return m.remove(e)})}function d(e){return m.remove(e)}var m;return{initDB:a,saveUser:t,getUser:n,eraseUser:o,saveReport:r,getReport:c,getAllReports:u,updateReport:i,deleteReport:p,deleteGivenReport:d,getCategories:s,saveCategories:l}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,t,n){return{http_response_is_successful:function(e,t){var n=document.getElementById(t);return e.data&&"success"==e.data.Status||"success"==e.Status?(n.style.display="none",!0):(e.data?n.innerHTML="<h3>"+e.data.Message+"</h3>":n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var n=t.alert({title:"Error",template:e.data.message});return n.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,t){var n=document.getElementById(t);return"success"!=e.Status?(n.innerHTML="<h3>"+e.Message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,t){var n=document.getElementById(e);return n.innerHTML="<h3>"+t+"</h3>",n.style.display="block",!1},show_error_message_popup:function(e){var n=t.alert({title:"Error",template:e});return n.then(function(e){return!1}),!1},check_fields:function(e,t){var o="";if(e.forEach(function(e){"notNull"==e.type&&(n.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vacío.</h3>')),"email"==e.type&&(n.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==e.type&&(n.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una cédula uruguaya válida.</h3>')),"two_words"==e.type&&(n.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>')),"equalsTo"==e.type&&(n.validate_equalsTo(e.value,e.secondValue)||(o=o+'<h3>- Los campos "'+e.name+'" no coinciden.</h3>'))}),""==o)return!0;var a=document.getElementById(t);return a.innerHTML=o,a.style.display="block",!1}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,t,n){var o={showLoading:function(t){t=t||"Loading...",e.show({template:t})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,n){var o=this;o.showLoading(e),t(function(){o.hideLoading()},n||3e3)},confirmPopup:function(e,t){var o=n.confirm({title:e,template:t});return o},showAlert:function(e,t){var o=n.alert({title:e,template:t});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.last_user_lat="",e.last_user_lng="",e.council_modal=null,e.selected_council=null,e.selectCouncil=function(t){e.selected_council=t},e.save_initial_position=function(t){e.initial_lat=t.coords.latitude,e.initial_lng=t.coords.longitude},e.save_last_user_position=function(t,n){e.last_user_lat=t,e.last_user_lng=n},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,t){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var n={};return n.goToPlace=function(n,o,a,r){var i={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[o,a]},properties:{nombre:n}}]};e.getMap().then(function(e){var n,o=L.Proj.geoJson(i,{pointToLayer:function(e,o){n=o;var a="<p align='center'>"+e.properties.nombre+" <br/> <a ng-click='new_report_from_latlon("+n.lat+","+n.lng+");'>Iniciar reporte aquí</a></p>",i=t(a)(r);return L.marker(o).bindPopup(i[0])}});o.addTo(e),e.setView(n,18),o.openPopup()})},n.centerMapOnCoords=function(t,n,o){e.getMap().then(function(e){e.setView(new L.LatLng(t,n),o)})},n}]),pmb_im.services.factory("ModalService",[function(){var e={};return e.activeModal=null,e.checkNoModalIsOpen=function(){e.activeModal&&(e.activeModal.hide(),e.activeModal.remove())},e}]),pmb_im.services.factory("PinService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=n.baseURL+"/sites/tomamos_una/files/json/users_geo.json",r=n.baseURL+"/api/";return proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),o.convertLatLongProj=function(e,t,n){var o,a={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}},features:[{type:"Feature",geometry:{type:"Point",coordinates:[e,t]},properties:{}}]};L.Proj.geoJson(a,{pointToLayer:function(e,t){return o=t,t}});return o},o.getAll=function(){return e.get(a,{cache:!1,params:{hash_id:Math.random()}})},o.sendUserLocation=function(t,n,o,a,i){var s="user="+o+"&password="+a+"&lat="+t+"&lon="+n+"&uid="+i;return e.post(r+"send_user_position",s,{withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},o._all=[],o.current={},o.lastPinsResponse=null,o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e){this.lat=e.lat,this.lon=e.lng},o}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,t){return{show_alert:function(t,n){var o=e.alert({title:t,template:n});return o.then(function(e){return!0}),!0},confirmPopup:function(t,n){var o=e.confirm({title:t,template:n});return o},askForOneValuePopUp:function(n,o,a,r,i){$scope=n;var s=e.show({template:r+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:a,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var n="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(t.validate_not_empty(o)||(n=n+'<h3>- El campo "'+r+'" no puede estar vacío.</h3>')),"email"==i&&(t.validate_email(o)||(n=n+'<h3>- El campo "'+r+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==i&&(t.validate_iddoc_uy(o)||(n=n+'<h3>- El campo "'+r+'" no es una cédula uruguaya válida.</h3>')),"two_words"==i&&(t.validate_two_words(o)||(n=n+'<h3>- El campo "'+r+'" debe contener al menos dos palabras.</h3>')),""==n)return o;var a=document.getElementById("error_container_inside");a.innerHTML=n,a.style.display="block",e.preventDefault()}}]});return s}}}]),pmb_im.services.factory("SemaphoreService",[function(){var e={};return e.semaphores=new Array,e.semaphores["open-modal"]="available",e.semaphores["submit-form"]="available",e.semaphores["submit-location"]="available",e.semaphores.can_talk="available",
e.takeIfAvailable=function(t){return"available"==e.semaphores[t]&&(e.semaphores[t]="occupied",!0)},e.makeAvailableAgain=function(t){return"occupied"==e.semaphores[t]&&(e.semaphores[t]="available",!0)},e}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint","ConfigService","LocationsService",function(e,t,n,o,a,r){var i="ubicacionesRestProd",s={};return s.searchLocationByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t;return e.get(n,{method:"GET",params:{}})},s.searchEsquinaByStr=function(t){var n=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t.calle+","+t.esquina;return e.get(n,{method:"GET",params:{}})},s.getLocationGeom=function(t){for(var o=n.url+"/"+i+s.getParamPathByTipo(t.tipo),a=0;a<t.pathParams.length;a++)o+="/"+t.pathParams[a];return e.get(baseURL).then(function(e){return e.data})},s.getLocationGeomPMB=function(t,n,o){var i=a.baseURL+"/ajax/geocode?term="+r.selected_council+","+t+","+n+","+o;return e.get(i)},s.getParamPathByTipo=function(e){var t={ESQUINA:"/esquina",DIRECCION:"/direccion"};return t[e]},s}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var t={};return t.uid=null,t.name=null,t.email=null,t.password=null,t.picture_url="url(./img/icon-user-anonymous.png)",t.show_location=null,t.save_user_data=function(e,n,o,a,r,i,s,l){t.uid=r,t.name=e,t.password=n,t.picture_url=o,t.show_location=a,t.status=i,t.gender=s,t.interested=l},t.erase_user_data=function(){t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone=null,t.picture_url=null},t.get_user_data=function(){},t.add_photo=function(e){t.picture_url=e},t.isLogged=function(){return null!=t.name&&""!=t.name},t}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,t){return{isMobileDevice:function(){return!!window.cordova},validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=e.split(" ").filter(function(e){return""!==e});return t.length>1}return!1},validate_equalsTo:function(e,t){return e==t},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var t=e[e.length-1],n=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)n+=parseInt("2987634"[o])*parseInt(e[o])%10;var a;return a=n%10===0?0:10-n%10,t==a}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2Ficy5jdHJsLmpzIiwiY29udHJvbGxlcnMvZm9ybS5jcnRsLmpzIiwiY29udHJvbGxlcnMvaW5kZXguY3RybC5qcyIsImNvbnRyb2xsZXJzL2ludHJvLmN0cmwuanMiLCJjb250cm9sbGVycy9tYXAuY3RybC5qcyIsInNlcnZpY2VzL2F1dGguc2VydmljZXMuanMiLCJzZXJ2aWNlcy9ja2FuLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9jb25maWcuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25uZWN0aXZpdHkuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9kYi5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2Vycm9yLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbG9hZGVyLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbG9jYXRpb25zU2VydmljZS5qcyIsInNlcnZpY2VzL21hcC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL21vZGFsU2VydmljZS5qcyIsInNlcnZpY2VzL3Bpbi5zZXJ2aWNlLmpzIiwic2VydmljZXMvcG9wdXAuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9zZW1hcGhvcmUuc2VydmljZS5qcyIsInNlcnZpY2VzL3ViaWNhY2lvbmVzLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdW5kZXJzY29yZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvdXNlci5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3ZhbGlkYXRpb24uc2VydmljZXMuanMiXSwibmFtZXMiOlsicG1iX2ltIiwiY29udHJvbGxlcnMiLCJhbmd1bGFyIiwibW9kdWxlIiwic2VydmljZXMiLCJhcHAiLCJjb25zdGFudCIsInVybCIsInJ1biIsIiRpb25pY1BsYXRmb3JtIiwiJHJvb3RTY29wZSIsIiRjb3Jkb3ZhS2V5Ym9hcmQiLCJWRVJTSU9OIiwid2luZG93IiwicmVhZHkiLCJjb3Jkb3ZhIiwicGx1Z2lucyIsIktleWJvYXJkIiwiaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIiwiZGlzYWJsZVNjcm9sbCIsImlvbmljIiwiUGxhdGZvcm0iLCJpc0Z1bGxTY3JlZW4iLCJTdGF0dXNCYXIiLCJzdHlsZURlZmF1bHQiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRjb21waWxlUHJvdmlkZXIiLCIkaW9uaWNDb25maWdQcm92aWRlciIsImRlYnVnSW5mb0VuYWJsZWQiLCJzdGF0ZSIsImNhY2hlIiwiYWJzdHJhY3QiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJ2aWV3cyIsIm1lbnVDb250ZW50Iiwib3RoZXJ3aXNlIiwiJHNjb3BlIiwiJHN0YXRlIiwiJGNvcmRvdmFHZW9sb2NhdGlvbiIsIiRzdGF0ZVBhcmFtcyIsIiRpb25pY1BvcHVwIiwiTG9jYXRpb25zU2VydmljZSIsIkRCU2VydmljZSIsIiRpb25pY1NsaWRlQm94RGVsZWdhdGUiLCIkaW9uaWNTY3JvbGxEZWxlZ2F0ZSIsImZvcm0iLCJlZGFkIiwicGxhbiIsImx1Z2FyIiwidHVybm8iLCJuaXZlbF9hcHJvYmFkbyIsIm5leHQiLCJwcmV2aW91cyIsImdvX3RvX21hcCIsImdvIiwiZGIiLCJpbml0REIiLCJpbmZvIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJiaW5kIiwiZ2VvbG9jYXRlIiwicG9zT3B0aW9ucyIsInRpbWVvdXQiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJnZXRDdXJyZW50UG9zaXRpb24iLCJwb3NpdGlvbiIsInNhdmVfaW5pdGlhbF9wb3NpdGlvbiIsImVyciIsIiRvbiIsImNvdW5jaWxfbW9kYWwiLCJoaWRlIiwicmVtb3ZlIiwiXyIsIiRjb3Jkb3ZhQ2FtZXJhIiwiJGNvbXBpbGUiLCIkaW9uaWNNb2RhbCIsImxlYWZsZXREYXRhIiwiQ29uZmlnU2VydmljZSIsIkNrYW5TZXJ2aWNlIiwiUGluU2VydmljZSIsIkF1dGhTZXJ2aWNlIiwiVXNlclNlcnZpY2UiLCIkdGltZW91dCIsIiRpbnRlcnZhbCIsIiRsb2NhdGlvbiIsIkVycm9yU2VydmljZSIsIlBvcFVwU2VydmljZSIsIkNvbm5lY3Rpdml0eVNlcnZpY2UiLCIkY29yZG92YUluQXBwQnJvd3NlciIsIk1hcFNlcnZpY2UiLCJNb2RhbFNlcnZpY2UiLCJTZW1hcGhvcmVTZXJ2aWNlIiwiVmFsaWRhdGlvblNlcnZpY2UiLCJhc2VudGFtaWVudG9zX2xheWVycyIsIkFycmF5IiwiYmFzZVVSTCIsIkFwcE5hbWUiLCJ1c2VyX2NhY2hlZF9pbWFnZSIsIm9uZV92YWx1ZV9wb3B1cCIsIm15SW50ZXJ2YWxzIiwiY2hlY2tOb01vZGFsSXNPcGVuIiwiaXNPbmxpbmUiLCJjaGVja191c2VyX2xvZ2dlZCIsInNldF9vZmZsaW5lX3VzZXIiLCJjcmVhdGVfb25saW5lX21hcCIsImdldE1hcCIsImluaXRpYWxfbGF0IiwiY2VudGVyTWFwT25Db29yZHMiLCJpbml0aWFsX2xuZyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImRpc3BsYXkiLCJvcGVuV2Vic2l0ZSIsIm9wdGlvbnMiLCJsb2NhdGlvbiIsImNsZWFyY2FjaGUiLCJ0b29sYmFyIiwib3BlbiIsImV2ZW50IiwibWFwIiwiZGVmYXVsdHMiLCJ0aWxlTGF5ZXIiLCJtaW5ab29tIiwibWF4Wm9vbSIsInpvb21Db250cm9sUG9zaXRpb24iLCJtYXJrZXJzIiwiZXZlbnRzIiwiZW5hYmxlIiwibG9naWMiLCJjZW50ZXIiLCJsb2FkUGluc0xheWVyIiwibGF0IiwibG5nIiwiem9vbSIsIm9uIiwiaGlkZU9mZlNjcmVlblBpbnMiLCJiYWNrX3RvX21hcCIsImltYWdlIiwiYWRkSW1hZ2UiLCJpc0Zyb21BbGJ1bSIsImlzVXNlclBob3RvIiwiaXNDb21tZW50UGhvdG8iLCJpc05ld1VzZXJQaG90byIsInNvdXJjZSIsIkNhbWVyYSIsIlBpY3R1cmVTb3VyY2VUeXBlIiwiQ0FNRVJBIiwiZml4X29yaWVudGF0aW9uIiwic2F2ZV90b19nYWxsZXJ5IiwiUEhPVE9MSUJSQVJZIiwicXVhbGl0eSIsImRlc3RpbmF0aW9uVHlwZSIsIkRlc3RpbmF0aW9uVHlwZSIsIkZJTEVfVVJJIiwic291cmNlVHlwZSIsImFsbG93RWRpdCIsImNvcnJlY3RPcmllbnRhdGlvbiIsImVuY29kaW5nVHlwZSIsIkVuY29kaW5nVHlwZSIsIkpQRUciLCJwb3BvdmVyT3B0aW9ucyIsIkNhbWVyYVBvcG92ZXJPcHRpb25zIiwic2F2ZVRvUGhvdG9BbGJ1bSIsInRhcmdldFdpZHRoIiwidGFyZ2V0SGVpZ2h0IiwiZ2V0UGljdHVyZSIsImltYWdlRGF0YSIsIm9uSW1hZ2VTdWNjZXNzIiwiZmlsZVVSSSIsIkZpbGVQYXRoIiwicmVzb2x2ZU5hdGl2ZVBhdGgiLCJyZXN1bHQiLCJzdGFydHNXaXRoIiwicHJvZmlsZSIsInBpY3R1cmVfdXJsIiwiY29tbWVudCIsImZpbGUiLCJuZXd1c2VyIiwiaW1nVVJJIiwiZXJyb3IiLCJhbGVydCIsInVybEZvckltYWdlIiwiaW1hZ2VVUkwiLCJuYW1lIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJkYXRhRGlyZWN0b3J5Iiwic2Nyb2xsTWUiLCJhbmNob3JfaWQiLCJoYXNoIiwiaGFuZGxlIiwiJGdldEJ5SGFuZGxlIiwiYW5jaG9yU2Nyb2xsIiwic2V0X2FjdGl2ZV9vcHRpb24iLCJidXR0b25pZCIsImNsYXNzTmFtZSIsImhpZGVfc3BlY2lhbF9kaXZzIiwiY2xvc2VfcmVwb3J0X2RldGFpbF9tb2RhbCIsInJlcG9ydF9kZXRhaWxfaWQiLCJsb2NhdGUiLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIm5vdyIsIm1lc3NhZ2UiLCJmb2N1cyIsImRyYWdnYWJsZSIsImFkZE1hcENvbnRyb2xzIiwiY2hhbmdlVXNlckxvY2F0aW9uUGluIiwibG9uIiwidWlkIiwib25saW5lX3VzZXJfZ2VvX2FycmF5IiwibGF5ZXIiLCJuZXdMYXRMbmciLCJMIiwiTGF0TG5nIiwic2V0TGF0TG5nIiwiZ2V0QWxsUG9seWdvbnMiLCJyZXNwb25zZSIsImxhc3RQaW5zUmVzcG9uc2UiLCJmb3JFYWNoIiwia2V5IiwicmVtb3ZlTGF5ZXIiLCJkYXRhIiwicmVjb3JkcyIsImZlYXR1cmUiLCJnZXRUeXBlT2ZNYXBPYmplY3QiLCJ3a3RfZ2VvbSIsImxhdGxuZ3MiLCJnZXRPbmx5Q29vcmRpbmF0ZXNQb2x5Z29uIiwicG9seWdvbiIsImNvbG9yIiwiYmluZFBvcHVwIiwiTk9NX0FTVCIsIkNPRF9BU1QiLCJhZGRUbyIsInJlcGxhY2UiLCJwb2ludHNBcnJheSIsInNwbGl0IiwicG9seWdvblBvaW50c0Nvb3JkaW5hdGVzIiwicG9pbnQiLCJ0cmltIiwiY29vcmRpbmF0ZXNBcnJheSIsIm5ld0Nvb3JkaW5hdGVzIiwiY29udmVydExhdExvbmdQcm9qIiwibGF0bG9uIiwicHVzaCIsInRpbWVDb252ZXJ0ZXIiLCJVTklYX3RpbWVzdGFtcCIsImEiLCJEYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW4iLCJnZXRNaW51dGVzIiwidGltZSIsImdldFNlY29uZHMiLCJtb2RlbCIsImV4dGVybmFsTW9kZWwiLCJzZWxlY3RlZEl0ZW1zIiwicHJlc2VsZWN0ZWRTZWFyY2hJdGVtcyIsImNsaWNrZWRWYWx1ZU1vZGVsIiwicmVtb3ZlZFZhbHVlTW9kZWwiLCJpdGVtc1JlbW92ZWQiLCJjYWxsYmFjayIsInVzZXJfb3B0aW9ucyIsInNob3dfYW5vbnltb3VzX21lbnUiLCJzaG93X3VzZXJfbWVudSIsImNyZWF0ZV9maWVsZF9hcnJheSIsInR5cGUiLCJ2YWx1ZSIsImZpZWxkIiwiY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzIiwic2Vjb25kVmFsdWUiLCJmaXhfZmJfaW1hZ2VfbGluayIsImluZGV4T2YiLCJwYXJ0cyIsIm5ld1VybCIsImxvZ19pbiIsInVzZXIiLCJwYXNzd29yZCIsInRha2VJZkF2YWlsYWJsZSIsImZpZWxkcyIsImNoZWNrX2ZpZWxkcyIsInJlc3AiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJwaG90byIsImdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UiLCJQaG90byIsInNhdmVfdXNlcl9kYXRhIiwiTmFtZSIsIm5vbmF1dGgiLCJTaG93TG9jYXRpb24iLCJVaWQiLCJFc3RhZG8iLCJHZW5kZXIiLCJJbnRlcmVzdGVkSW4iLCJzYXZlVXNlciIsInNldF91c2VyX3BpY3R1cmUiLCJtYWtlQXZhaWxhYmxlQWdhaW4iLCJjbG9zZV9sb2dpbl9tb2RhbCIsInNob3dfZXJyb3JfbWVzc2FnZSIsInN0YXR1c1RleHQiLCJzaG93X2FsZXJ0IiwibG9nX2luX2JhY2tncm91bmQiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsInNpZ25fb3V0IiwiZXJhc2VfdXNlcl9kYXRhIiwiZXJhc2VVc2VyIiwic2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwiLCJlbWFpbCIsImdlbmRlciIsInVzZXJuYW1lIiwiaW50ZXJlc3RlZCIsInN0YXR1cyIsInNob3dfbG9jYXRpb24iLCJhY3R1YWxfcGhvdG8iLCJpc01vYmlsZURldmljZSIsImZyb21UZW1wbGF0ZVVybCIsInNjb3BlIiwiaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2UiLCJhbmltYXRpb24iLCJtb2RhbCIsImFjdGl2ZU1vZGFsIiwic2hvdyIsInJlYWRVUkwiLCJpbnB1dCIsImZpbGVzIiwicmVwb3J0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImUiLCJzcmMiLCJ0YXJnZXQiLCJyZWFkQXNEYXRhVVJMIiwiY2xvc2VfZWRpdF9wcm9maWxlX21vZGFsIiwiZWRpdF9wcm9maWxlX29rIiwiZWRpdF9wcm9maWxlIiwiZWRpdF9yZXF1ZXN0IiwiZWRpdF91c2VyIiwiSlNPTiIsInBhcnNlIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJjb2RlIiwiaHR0cF9zdGF0dXMiLCJib2R5IiwiZXhjZXB0aW9uIiwicHJvZ3Jlc3MiLCJ1cGxvYWRQcm9ncmVzcyIsImxvYWRlZCIsInRvdGFsIiwiaW5uZXJIVE1MIiwiTWF0aCIsInJvdW5kIiwic3VjY2VzcyIsImhlYWRlcnMiLCJzaG93X2xvZ2luX21vZGFsIiwibG9naW5fb2siLCJzaG93X3NpZ25fdXBfbW9kYWwiLCJmdWxsbmFtZSIsImlkX2RvYyIsInRlbGVwaG9uZSIsImNsb3NlX3NpZ25fdXBfbW9kYWwiLCJzaWduX3VwIiwiY3JlYXRlX3VzZXIiLCJpZGVudGl0eV9kb2N1bWVudCIsInBob25lIiwiYWxlcnRQb3B1cCIsInRpdGxlIiwidGVtcGxhdGUiLCJyZXMiLCJzaWduX3VwX29rIiwiZ2V0VXNlciIsImRvYyIsImhhc1Bob3RvIiwiZmluZF9tZSIsInNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbiIsImdldE1lc3NhZ2VTY29wZSIsIm9wZW5Db3VuY2lsU2VsZWN0b3IiLCJzdWJtaXRGaWx0ZXJzIiwiZmlsdGVycyIsIkdldERhdGEiLCJ0b2dnbGVHcm91cCIsImdyb3VwIiwiaXNHcm91cFNob3duIiwic2hvd25Hcm91cCIsImZhY3RvcnkiLCIkaHR0cCIsIiRjb3Jkb3ZhRmlsZVRyYW5zZmVyIiwicG9zdCIsIndpdGhDcmVkZW50aWFscyIsIkNvbnRlbnQtVHlwZSIsImdldCIsInBhcmFtcyIsInBhc3N3b3JkX3NpZ25faW4iLCJ1c2VyT2JqIiwiZmlsZUtleSIsInRydXN0QWxsSG9zdHMiLCJ1cGxvYWQiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidW5kZWZpbmVkIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwicGFzc3dvcmRfcmVjb3ZlcnkiLCJsb2dpbl9lbWFpbCIsInBhc3N3b3JkX2NoYW5nZSIsIm9sZFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJjb25maXJtUGFzc3dvcmQiLCJja2FuQWxsUG9seWdvbnNVUkwiLCJBdXRob3JpemF0aW9uIiwiQ29uZmlnT2JqIiwiJGNvcmRvdmFOZXR3b3JrIiwiaXNPZmZsaW5lIiwiJHEiLCJ1c2VyX25hbWUiLCJ1c2VyX3Bhc3N3b3JkIiwidXNlcl9waWN0dXJlX3VybCIsIl9pZCIsIl9yZXYiLCJfZGIiLCJwdXQiLCJQb3VjaERCIiwic2F2ZVJlcG9ydCIsImRhdGUiLCJuZXdfcmVwb3J0X2lkIiwiZ2V0TWlsbGlzZWNvbmRzIiwidXBkYXRlUmVwb3J0IiwiZ2V0Q2F0ZWdvcmllcyIsInNhdmVDYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyIsImdldFJlcG9ydCIsInJlcG9ydElkIiwiZ2V0QWxsUmVwb3J0cyIsImFsbERvY3MiLCJpbmNsdWRlX2RvY3MiLCJhdHRhY2htZW50cyIsInN0YXJ0a2V5IiwiZW5ka2V5IiwiZGVsZXRlUmVwb3J0IiwicmVwb3J0X2lkIiwiZGVsZXRlR2l2ZW5SZXBvcnQiLCJqc29uUmVzdWx0IiwiZXJyb3JDb250YWluZXJJZCIsImVycm9yRGl2IiwiU3RhdHVzIiwiTWVzc2FnZSIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cCIsImh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgiLCJzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAiLCJlcnJvcnMiLCJ2YWxpZGF0ZV9ub3RfZW1wdHkiLCJ2YWxpZGF0ZV9lbWFpbCIsInZhbGlkYXRlX2lkZG9jX3V5IiwidmFsaWRhdGVfdHdvX3dvcmRzIiwidmFsaWRhdGVfZXF1YWxzVG8iLCIkaW9uaWNMb2FkaW5nIiwiTE9BREVSQVBJIiwic2hvd0xvYWRpbmciLCJ0ZXh0IiwiaGlkZUxvYWRpbmciLCJ0b2dnbGVMb2FkaW5nV2l0aE1lc3NhZ2UiLCJzZWxmIiwidGhpcyIsImNvbmZpcm1Qb3B1cCIsImNvbmZpcm0iLCJzaG93QWxlcnQiLCJfdGl0bGUiLCJfdGVtcGxhdGUiLCJsb2NhdGlvbnNPYmoiLCJsYXN0X3VzZXJfbGF0IiwibGFzdF91c2VyX2xuZyIsInNlbGVjdGVkX2NvdW5jaWwiLCJzZWxlY3RDb3VuY2lsIiwiY291bmNpbE5hbWUiLCJzYXZlX2xhc3RfdXNlcl9wb3NpdGlvbiIsInNhdmVkTG9jYXRpb25zIiwicHJvajQiLCJkZWZzIiwibWFwU2VydmljZSIsImdvVG9QbGFjZSIsIl9nZW9Kc29uIiwiY3JzIiwicHJvcGVydGllcyIsImZlYXR1cmVzIiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsIm5vbWJyZSIsIl9sYXRsbmciLCJQcm9qIiwiZ2VvSnNvbiIsInBvaW50VG9MYXllciIsImxhdGxuZyIsImh0bWxQb3BVcCIsImNvbXBpbGVkIiwibWFya2VyIiwic2V0VmlldyIsIm9wZW5Qb3B1cCIsIm1vZGFsT0JKIiwiUGluIiwiX2RhdGEiLCJleHRlbmQiLCJwaW5zVVJMIiwiYXBpVVJMIiwiZ2V0QWxsIiwiaGFzaF9pZCIsInJhbmRvbSIsInNlbmRVc2VyTG9jYXRpb24iLCJfYWxsIiwiY3VycmVudCIsImJ1aWxkIiwicHJvdG90eXBlIiwiYWxlcnRfdGl0bGUiLCJhbGVydF9tZXNzYWdlIiwiYXNrRm9yT25lVmFsdWVQb3BVcCIsImZpZWxkX25hbWUiLCJ2YWxpZGF0aW9uVHlwZSIsIm15UG9wdXAiLCJzdWJUaXRsZSIsImJ1dHRvbnMiLCJvblRhcCIsInByZXZlbnREZWZhdWx0Iiwic2VtYXBob3JlT2JqIiwic2VtYXBob3JlcyIsInNlbWFwaG9yZUlkIiwiQXBpSW1FbmRwb2ludCIsIkFwaURhdGFFbmRwb2ludCIsInJlc3RQcmVmZml4IiwibG9jYXRpb25BUEkiLCJzZWFyY2hMb2NhdGlvbkJ5U3RyIiwiX2xvY2F0aW9uIiwibWV0aG9kIiwic2VhcmNoRXNxdWluYUJ5U3RyIiwiY2FsbGUiLCJlc3F1aW5hIiwiZ2V0TG9jYXRpb25HZW9tIiwiZ2V0UGFyYW1QYXRoQnlUaXBvIiwidGlwbyIsImkiLCJwYXRoUGFyYW1zIiwibGVuZ3RoIiwiZ2V0TG9jYXRpb25HZW9tUE1CIiwiZXNxdWluYV9udW1lcm8iLCJfdGlwbyIsInJlc3RHZW9EYXRhU2VydmljZVBhdGgiLCJFU1FVSU5BIiwiRElSRUNDSU9OIiwiVXNlck9iaiIsImdldF91c2VyX2RhdGEiLCJhZGRfcGhvdG8iLCJpc0xvZ2dlZCIsInZhbHVlcyIsImZpbHRlciIsInYiLCJyZSIsInRlc3QiLCJkaWciLCJwYXJzZUludCJd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RUFBSSxFQUFHQSxJQUMzQi9RLEVBQVEsSUFBTUEsQ0FHbEIsS0FBSStRLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUNoQjFTLEdBQU02VCxTQUFTLFVBQVVuQixJQUFNbUIsU0FBU2xTLEVBQU0rUSxJQUFPLEVBRXZELElBQUl4WCxFQU1KLE9BSkVBLEdBREM4RSxFQUFFLEtBQU8sRUFDRCxFQUVBLEdBQUtBLEVBQUksR0FFakI0VCxHQUFPMVksRUFNWixPQUFPIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIElvbmljIFN0YXJ0ZXIgQXBwXG5cbi8vIGFuZ3VsYXIubW9kdWxlIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhciBtb2R1bGVzXG4vLyAncG1iX2ltJyBpcyB0aGUgbmFtZSBvZiB0aGlzIGFuZ3VsYXIgbW9kdWxlIGV4YW1wbGUgKGFsc28gc2V0IGluIGEgPGJvZHk+IGF0dHJpYnV0ZSBpbiBpbmRleC5odG1sKVxuLy8gdGhlIDJuZCBwYXJhbWV0ZXIgaXMgYW4gYXJyYXkgb2YgJ3JlcXVpcmVzJ1xuLy8gJ3N0YXJ0ZXIuc2VydmljZXMnIGlzIGZvdW5kIGluIHNlcnZpY2VzLmpzXG4vLyAnc3RhcnRlci5jb250cm9sbGVycycgaXMgZm91bmQgaW4gY29udHJvbGxlcnMuanNcbnZhciBwbWJfaW0gPSB7XG4gIGNvbnRyb2xsZXJzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLmNvbnRyb2xsZXJzJywgW10pLFxuICBzZXJ2aWNlczogYW5ndWxhci5tb2R1bGUoJ3BtYl9pbS5zZXJ2aWNlcycsIFtdKVxufTtcblxucG1iX2ltLmFwcCA9IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0nLCBbJ2lvbmljJywnaW9uaWMud2l6YXJkJywnaW9uLWF1dG9jb21wbGV0ZScsJ2xlYWZsZXQtZGlyZWN0aXZlJywgJ3BtYl9pbS5jb250cm9sbGVycycsICdwbWJfaW0uc2VydmljZXMnLCAnbmdDb3Jkb3ZhJ10pXG5cbi5jb25zdGFudCgnQXBpSW1FbmRwb2ludCcsIHtcbiAgdXJsOiAnaHR0cDovL3d3dy5tb250ZXZpZGVvLmd1Yi51eSdcbn0pXG5cbi5jb25zdGFudCgnQXBpRGF0YUVuZHBvaW50Jywge1xuICB1cmw6ICdodHRwOi8vYmFja2VuZC5lZHVjYWNpb24udGhvci5kYXRhdXkub3JnJ1xufSlcblxuXG4ucnVuKGZ1bmN0aW9uKCRpb25pY1BsYXRmb3JtLCAkcm9vdFNjb3BlLCAkY29yZG92YUtleWJvYXJkKSB7XG4gICRyb290U2NvcGUuVkVSU0lPTiA9IHdpbmRvdy5WRVJTSU9OO1xuICAkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAvLyBIaWRlIHRoZSBhY2Nlc3NvcnkgYmFyIGJ5IGRlZmF1bHQgKHJlbW92ZSB0aGlzIHRvIHNob3cgdGhlIGFjY2Vzc29yeSBiYXIgYWJvdmUgdGhlIGtleWJvYXJkXG4gICAgLy8gZm9yIGZvcm0gaW5wdXRzKVxuICAgIGlmICh3aW5kb3cuY29yZG92YSAmJiB3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkKSB7XG4gICAgICBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKGZhbHNlKTtcbiAgICAgIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5kaXNhYmxlU2Nyb2xsKGZhbHNlKTtcbiAgICB9XG4gICAgLy8kY29yZG92YUtleWJvYXJkLmhpZGVBY2Nlc3NvcnlCYXIoZmFsc2UpXG4gICAgLy8kY29yZG92YUtleWJvYXJkLmRpc2FibGVTY3JvbGwoZmFsc2UpXG4gICAgaW9uaWMuUGxhdGZvcm0uaXNGdWxsU2NyZWVuID0gdHJ1ZTtcbiAgICBpZiAod2luZG93LlN0YXR1c0Jhcikge1xuICAgICAgLy8gb3JnLmFwYWNoZS5jb3Jkb3ZhLnN0YXR1c2JhciByZXF1aXJlZFxuICAgICAgU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpO1xuICAgIH1cbiAgfSk7XG59KVxuXG4uY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRjb21waWxlUHJvdmlkZXIsICRpb25pY0NvbmZpZ1Byb3ZpZGVyKSB7XG4gICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZChmYWxzZSk7XG4gIC8vJGlvbmljQ29uZmlnUHJvdmlkZXIuc2Nyb2xsaW5nLmpzU2Nyb2xsaW5nKHRydWUpO1xuXG4gIC8vIElvbmljIHVzZXMgQW5ndWxhclVJIFJvdXRlciB3aGljaCB1c2VzIHRoZSBjb25jZXB0IG9mIHN0YXRlc1xuICAvLyBMZWFybiBtb3JlIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL3VpLXJvdXRlclxuICAvLyBTZXQgdXAgdGhlIHZhcmlvdXMgc3RhdGVzIHdoaWNoIHRoZSBhcHAgY2FuIGJlIGluLlxuICAvLyBFYWNoIHN0YXRlJ3MgY29udHJvbGxlciBjYW4gYmUgZm91bmQgaW4gY29udHJvbGxlcnMuanNcbiAgJHN0YXRlUHJvdmlkZXJcblxuLnN0YXRlKCdhcHAnLCB7XG4gICAgY2FjaGU6IGZhbHNlLFxuICAgIHVybDogXCIvYXBwXCIsXG4gICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL21lbnUuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6ICdBYnNDb250cm9sbGVyJ1xuICB9KVxuXG4uc3RhdGUoJ2FwcC5pbmRleCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9pbmRleFwiLFxuICAgIHZpZXdzOiB7XG4gICAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9zdGF0aWMvYXBwLmNvbXBvbmVudC5odG1sXCIsXG4gICAgICAgIGNvbnRyb2xsZXIgOiBcIkluZGV4Q29udHJvbGxlclwiXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4uc3RhdGUoJ2FwcC5jb250YWN0Jywge1xuICBjYWNoZTogZmFsc2UsXG4gIHVybDogXCIvY29udGFjdFwiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9zdGF0aWMvY29udGFjdC5jb21wb25lbnQuaHRtbFwiLFxuICAgICAgY29udHJvbGxlciA6IFwiQ29udGFjdENvbnRyb2xsZXJcIlxuICAgIH1cbiAgfVxufSlcblxuLnN0YXRlKCdhcHAubWFwJywge1xuICAgIGNhY2hlOiBmYWxzZSxcbiAgICB1cmw6IFwiL21hcFwiLFxuICAgIHZpZXdzOiB7XG4gICAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9tYXAuaHRtbFwiLFxuICAgICAgICBjb250cm9sbGVyIDogXCJNYXBDb250cm9sbGVyXCJcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbi5zdGF0ZSgnYXBwLmZvcm0nLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9mb3JtXCIsXG4gIHZpZXdzOiB7XG4gICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL2Zvcm0uaHRtbFwiLFxuICAgICAgY29udHJvbGxlciA6IFwiRm9ybUN0cmxcIlxuICAgIH1cbiAgfVxufSlcblxuLnN0YXRlKCdhcHAuaW50cm8nLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9pbnRyb1wiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9pbnRyby5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJJbnRyb0N0cmxcIlxuICAgIH1cbiAgfVxufSlcblxuLy8gaWYgbm9uZSBvZiB0aGUgYWJvdmUgc3RhdGVzIGFyZSBtYXRjaGVkLCB1c2UgdGhpcyBhcyB0aGUgZmFsbGJhY2tcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9hcHAvbWFwJyk7XG5cbn0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0Fic0NvbnRyb2xsZXInLFxuWyckc2NvcGUnLFxuZnVuY3Rpb24oJHNjb3BlKSB7XG5cbn1dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdGb3JtQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNQbGF0Zm9ybScsXG4gICckaW9uaWNQb3B1cCcsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gICckaW9uaWNTbGlkZUJveERlbGVnYXRlJyxcbiAgJyRpb25pY1Njcm9sbERlbGVnYXRlJyxcbiAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRjb3Jkb3ZhR2VvbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgJGlvbmljUGxhdGZvcm0sICRpb25pY1BvcHVwLCBMb2NhdGlvbnNTZXJ2aWNlLCBEQlNlcnZpY2UsICRpb25pY1NsaWRlQm94RGVsZWdhdGUsXG4gICRpb25pY1Njcm9sbERlbGVnYXRlKSB7XG5cbiAgICAkc2NvcGUuZm9ybSA9IHt9O1xuICAgICRzY29wZS5mb3JtLmVkYWQgPSAxNjtcbiAgICAkc2NvcGUuZm9ybS5wbGFuID0gXCJcIjtcbiAgICAkc2NvcGUuZm9ybS5sdWdhciA9IFwiXCI7XG4gICAgJHNjb3BlLmZvcm0udHVybm8gPSBcIlwiO1xuICAgICRzY29wZS5mb3JtLm5pdmVsX2Fwcm9iYWRvID0gXCJcIjtcbiAgICBcblxuXHQgICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLm5leHQoKTtcblx0ICB9O1xuXG5cdCAgJHNjb3BlLnByZXZpb3VzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLnByZXZpb3VzKCk7XG5cdCAgfTtcblxuXHQgICRzY29wZS5nb190b19tYXAgPSBmdW5jdGlvbigpe1xuXHQgICAgJHN0YXRlLmdvKFwiYXBwLm1hcFwiKTtcblx0ICB9XG5cbiAgfVxuXSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignSW5kZXhDb250cm9sbGVyJyxcblsnJHNjb3BlJyxcbmZ1bmN0aW9uKCRzY29wZSkge1xuXG59XSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignSW50cm9DdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJyxcbiAgJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLFxuICAnJHN0YXRlUGFyYW1zJyxcbiAgJyRpb25pY1BsYXRmb3JtJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ0xvY2F0aW9uc1NlcnZpY2UnLFxuICAnREJTZXJ2aWNlJyxcbiAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRjb3Jkb3ZhR2VvbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgJGlvbmljUGxhdGZvcm0sICRpb25pY1BvcHVwLCBMb2NhdGlvbnNTZXJ2aWNlLCBEQlNlcnZpY2UpIHtcblxuICB2YXIgZGIgPSBEQlNlcnZpY2UuaW5pdERCKCk7XG4gIGRiLmluZm8oKS50aGVuKGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSkpO1xuXG4gICRzY29wZS5nZW9sb2NhdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMzUwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlfTtcbiAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbihwb3NPcHRpb25zKVxuICAgICAgICAudGhlbihmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2F2ZV9pbml0aWFsX3Bvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAuZm9ybVwiKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLmZvcm1cIik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICRzY29wZS4kb24oJyRpb25pY1ZpZXcuZW50ZXInLCBmdW5jdGlvbigpeyAvL1RoaXMgaXMgZmlyZWQgdHdpY2UgaW4gYSByb3dcbiAgICAgIGlmKExvY2F0aW9uc1NlcnZpY2UuY291bmNpbF9tb2RhbCE9bnVsbCl7XG4gICAgICAgIExvY2F0aW9uc1NlcnZpY2UuY291bmNpbF9tb2RhbC5oaWRlKCk7XG4gICAgICAgIExvY2F0aW9uc1NlcnZpY2UuY291bmNpbF9tb2RhbC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgICAkc2NvcGUuZ2VvbG9jYXRlKCk7XG4gICB9KTtcblxuICB9XG5dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdNYXBDb250cm9sbGVyJywgWyckc2NvcGUnLCAnXycsXG4gICckY29yZG92YUNhbWVyYScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRjb21waWxlJyxcbiAgJyRpb25pY01vZGFsJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ2xlYWZsZXREYXRhJyxcbiAgJ0NvbmZpZ1NlcnZpY2UnLFxuICAnTG9jYXRpb25zU2VydmljZScsXG4gICdDa2FuU2VydmljZScsXG4gICdQaW5TZXJ2aWNlJyxcbiAgJ0F1dGhTZXJ2aWNlJyxcbiAgJ1VzZXJTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gICckdGltZW91dCcsXG4gICckaW50ZXJ2YWwnLFxuICAnJGxvY2F0aW9uJyxcbiAgJ0Vycm9yU2VydmljZScsXG4gICckaW9uaWNTbGlkZUJveERlbGVnYXRlJyxcbiAgJyRpb25pY1Njcm9sbERlbGVnYXRlJyxcbiAgJ1BvcFVwU2VydmljZScsXG4gICdDb25uZWN0aXZpdHlTZXJ2aWNlJyxcbiAgJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJyxcbiAgJ01hcFNlcnZpY2UnLFxuICAnTW9kYWxTZXJ2aWNlJyxcbiAgJ1NlbWFwaG9yZVNlcnZpY2UnLFxuICAnVmFsaWRhdGlvblNlcnZpY2UnLFxuICBmdW5jdGlvbihcbiAgICAkc2NvcGUsXG4gICAgXyxcbiAgICAkY29yZG92YUNhbWVyYSxcbiAgICAkY29yZG92YUdlb2xvY2F0aW9uLFxuICAgICRjb21waWxlLFxuICAgICRpb25pY01vZGFsLFxuICAgICRpb25pY1BvcHVwLFxuICAgIGxlYWZsZXREYXRhLFxuICAgIENvbmZpZ1NlcnZpY2UsXG4gICAgTG9jYXRpb25zU2VydmljZSxcbiAgICBDa2FuU2VydmljZSxcbiAgICBQaW5TZXJ2aWNlLFxuICAgIEF1dGhTZXJ2aWNlLFxuICAgIFVzZXJTZXJ2aWNlLFxuICAgIERCU2VydmljZSxcbiAgICAkdGltZW91dCxcbiAgICAkaW50ZXJ2YWwsXG4gICAgJGxvY2F0aW9uLFxuICAgIEVycm9yU2VydmljZSxcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLFxuICAgICRpb25pY1Njcm9sbERlbGVnYXRlLFxuICAgIFBvcFVwU2VydmljZSxcbiAgICBDb25uZWN0aXZpdHlTZXJ2aWNlLFxuICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLFxuICAgIE1hcFNlcnZpY2UsXG4gICAgTW9kYWxTZXJ2aWNlLFxuICAgIFNlbWFwaG9yZVNlcnZpY2UsXG4gICAgVmFsaWRhdGlvblNlcnZpY2VcbiAgKSB7XG5cbiAgICAvKipcbiAgICAgKiBPbmNlIHN0YXRlIGxvYWRlZCwgZ2V0IHB1dCBtYXAgb24gc2NvcGUuXG4gICAgICovXG4gICAgJHNjb3BlLmFzZW50YW1pZW50b3NfbGF5ZXJzID0gbmV3IEFycmF5KCk7XG4gICAgJHNjb3BlLmJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkw7XG4gICAgJHNjb3BlLkFwcE5hbWUgPSBDb25maWdTZXJ2aWNlLkFwcE5hbWU7XG4gICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlID0gXCIuL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZ1wiO1xuICAgICRzY29wZS5vbmVfdmFsdWVfcG9wdXAgPSBudWxsO1xuICAgICRzY29wZS5teUludGVydmFscyA9IG5ldyBBcnJheSgpO1xuXG4gICAgJHNjb3BlLiRvbihcIiRpb25pY1ZpZXcuYmVmb3JlRW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICBEQlNlcnZpY2UuaW5pdERCKCk7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQoKTtcbiAgICAgIH1lbHNle1xuICAgICAgICAkc2NvcGUuc2V0X29mZmxpbmVfdXNlcigpO1xuICAgICAgfVxuICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgJHNjb3BlLmNyZWF0ZV9vbmxpbmVfbWFwKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuJG9uKFwiJGlvbmljVmlldy5hZnRlckVudGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1hcCA9IGxlYWZsZXREYXRhLmdldE1hcCgpO1xuICAgICAgaWYoTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xhdCE9XCJcIil7XG4gICAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xhdCwgTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xuZywgMTApO1xuICAgICAgfWVsc2V7XG4gICAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTM0LjkwMTExMywgLTU2LjE2NDUzMSwgMTApO1xuICAgICAgfVxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0pO1xuXG5cbiAgICAkc2NvcGUub3BlbldlYnNpdGUgPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAnbm8nLFxuICAgICAgICAgICAgICAgIGNsZWFyY2FjaGU6ICd5ZXMnLFxuICAgICAgICAgICAgICAgIHRvb2xiYXI6ICdubydcbiAgICAgICAgICAgIH07XG5cbiAgICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIub3Blbih1cmwsICdfYmxhbmsnLCBvcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5jcmVhdGVfb25saW5lX21hcCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUubWFwID0ge1xuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgIHRpbGVMYXllcjogJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJyxcbiAgICAgICAgICBtaW5ab29tOiAxLFxuICAgICAgICAgIG1heFpvb206IDE4LFxuICAgICAgICAgIHpvb21Db250cm9sUG9zaXRpb246ICd0b3BsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICAgbWFya2Vyczoge30sXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgIG1hcDoge1xuICAgICAgICAgICAgZW5hYmxlOiBbJ2NvbnRleHQnXSxcbiAgICAgICAgICAgIGxvZ2ljOiAnZW1pdCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgJHNjb3BlLmxvYWRQaW5zTGF5ZXIoKTtcbiAgICAgICRzY29wZS5tYXAuY2VudGVyID0ge1xuICAgICAgICAgIGxhdDogLTM0LjkwMTExMyxcbiAgICAgICAgICBsbmc6IC01Ni4xNjQ1MzEsXG4gICAgICAgICAgem9vbTogMTBcbiAgICAgICAgfTtcbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5vbignbW92ZWVuZCcsICRzY29wZS5oaWRlT2ZmU2NyZWVuUGlucyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG5cblxuICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUubmV4dCgpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2aW91cyA9IGZ1bmN0aW9uKCkge1xuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUucHJldmlvdXMoKTtcbiAgfTtcblxuICAkc2NvcGUuYmFja190b19tYXAgPSBmdW5jdGlvbihiYWNrX3RvX21hcCl7XG4gICAgaWYoYmFja190b19tYXApe1xuICAgICAgLy9Mb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0ID0gJHNjb3BlLnJlcG9ydC5sYXQ7XG4gICAgICAvL0xvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sbmcgPSAkc2NvcGUucmVwb3J0LmxvbjtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgLy8kc2NvcGUuYWRkUmVwb3J0c0xheWVyKCk7XG4gICAgfWVsc2V7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG4gIH1cblxuXG4gICRzY29wZS5pbWFnZSA9IG51bGw7XG5cbiAgJHNjb3BlLmFkZEltYWdlID0gZnVuY3Rpb24oaXNGcm9tQWxidW0sIGlzVXNlclBob3RvLCBpc0NvbW1lbnRQaG90bywgaXNOZXdVc2VyUGhvdG8pIHtcbiAgICAvL2FsZXJ0KFwiYWRkSW1hZ2VcIik7XG4gICAgJHNjb3BlLmlzVXNlclBob3RvID0gaXNVc2VyUGhvdG87XG4gICAgJHNjb3BlLmlzQ29tbWVudFBob3RvID0gaXNDb21tZW50UGhvdG87XG4gICAgJHNjb3BlLmlzTmV3VXNlclBob3RvID0gaXNOZXdVc2VyUGhvdG87XG5cbiAgICB2YXIgc291cmNlID0gQ2FtZXJhLlBpY3R1cmVTb3VyY2VUeXBlLkNBTUVSQTtcbiAgICB2YXIgZml4X29yaWVudGF0aW9uID0gdHJ1ZTtcbiAgICB2YXIgc2F2ZV90b19nYWxsZXJ5ID0gdHJ1ZTtcbiAgICBpZihpc0Zyb21BbGJ1bT09MSl7XG4gICAgICBzb3VyY2UgPSBDYW1lcmEuUGljdHVyZVNvdXJjZVR5cGUuUEhPVE9MSUJSQVJZO1xuICAgICAgZml4X29yaWVudGF0aW9uID0gZmFsc2U7XG4gICAgICBzYXZlX3RvX2dhbGxlcnkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIHF1YWxpdHk6IDkwLFxuICAgICAgZGVzdGluYXRpb25UeXBlOiBDYW1lcmEuRGVzdGluYXRpb25UeXBlLkZJTEVfVVJJLFxuICAgICAgc291cmNlVHlwZTogc291cmNlLFxuICAgICAgYWxsb3dFZGl0OiBmYWxzZSxcbiAgICAgIGNvcnJlY3RPcmllbnRhdGlvbiA6IGZpeF9vcmllbnRhdGlvbixcbiAgICAgIGVuY29kaW5nVHlwZTogQ2FtZXJhLkVuY29kaW5nVHlwZS5KUEVHLFxuICAgICAgcG9wb3Zlck9wdGlvbnM6IENhbWVyYVBvcG92ZXJPcHRpb25zLFxuICAgICAgc2F2ZVRvUGhvdG9BbGJ1bTogc2F2ZV90b19nYWxsZXJ5LFxuICAgICAgdGFyZ2V0V2lkdGg6IDUwMCxcbiAgICAgIHRhcmdldEhlaWdodDogNTAwXG4gICAgfTtcblxuXG4gICAgJGNvcmRvdmFDYW1lcmEuZ2V0UGljdHVyZShvcHRpb25zKS50aGVuKGZ1bmN0aW9uKGltYWdlRGF0YSkge1xuICAgICAgb25JbWFnZVN1Y2Nlc3MoaW1hZ2VEYXRhKTtcblxuICAgICAgZnVuY3Rpb24gb25JbWFnZVN1Y2Nlc3MoZmlsZVVSSSkge1xuICAgICAgICB3aW5kb3cuRmlsZVBhdGgucmVzb2x2ZU5hdGl2ZVBhdGgoZmlsZVVSSSwgZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgLy8gb25TdWNjZXNzIGNvZGVcbiAgICAgICAgICAvL2FsZXJ0KHJlc3VsdCk7XG4gICAgICAgICAgZmlsZVVSSSA9ICdmaWxlOi8vJyArIHJlc3VsdDtcbiAgICAgICAgICBpZihyZXN1bHQuc3RhcnRzV2l0aChcImZpbGU6Ly9cIikpe1xuICAgICAgICAgICAgZmlsZVVSSSA9IHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoJHNjb3BlLmlzVXNlclBob3RvPT0xKXtcbiAgICAgICAgICAgIC8vVXNlclNlcnZpY2UuYWRkX3Bob3RvKGZpbGVVUkkpO1xuICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUucGljdHVyZV91cmwgPSBmaWxlVVJJO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYoJHNjb3BlLmlzQ29tbWVudFBob3RvPT0xKXtcbiAgICAgICAgICAgICAgJHNjb3BlLmNvbW1lbnQuZmlsZSA9IGZpbGVVUkk7XG4gICAgICAgICAgICB9ZWxzZSBpZigkc2NvcGUuaXNOZXdVc2VyUGhvdG89PTEpe1xuICAgICAgICAgICAgICAkc2NvcGUubmV3dXNlci5waWN0dXJlX3VybCA9IGZpbGVVUkk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICRzY29wZS5pbWdVUkkgPSBmaWxlVVJJO1xuICAgICAgICAgIC8vY3JlYXRlRmlsZUVudHJ5KGZpbGVVUkkpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGFsZXJ0KFwiRXJyb3IgcmVzb2x2ZU5hdGl2ZVBhdGhcIiArIGVycm9yKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY3JlYXRlRmlsZUVudHJ5KGZpbGVVUkkpIHtcbiAgICAgICAgd2luZG93LnJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkwoZmlsZVVSSSwgY29weUZpbGUsIGZhaWwpO1xuICAgICAgfVxuXG4gICAgICAvLyA1XG4gICAgICBmdW5jdGlvbiBjb3B5RmlsZShmaWxlRW50cnkpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBmaWxlRW50cnkuZnVsbFBhdGguc3Vic3RyKGZpbGVFbnRyeS5mdWxsUGF0aC5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICAgIHZhciBuZXdOYW1lID0gbWFrZWlkKCkgKyBuYW1lO1xuXG4gICAgICAgIHdpbmRvdy5yZXNvbHZlTG9jYWxGaWxlU3lzdGVtVVJMKGNvcmRvdmEuZmlsZS5kYXRhRGlyZWN0b3J5LCBmdW5jdGlvbihmaWxlU3lzdGVtMikge1xuICAgICAgICAgICAgZmlsZUVudHJ5LmNvcHlUbyhcbiAgICAgICAgICAgICAgZmlsZVN5c3RlbTIsXG4gICAgICAgICAgICAgIG5ld05hbWUsXG4gICAgICAgICAgICAgIG9uQ29weVN1Y2Nlc3MsXG4gICAgICAgICAgICAgIGZhaWxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmYWlsKTtcbiAgICAgIH1cblxuICAgICAgLy8gNlxuICAgICAgZnVuY3Rpb24gb25Db3B5U3VjY2VzcyhlbnRyeSkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS5pbWFnZSA9IGVudHJ5Lm5hdGl2ZVVSTDtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZhaWwoZXJyb3IpIHtcblxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBtYWtlaWQoKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcbiAgICAgICAgdmFyIHBvc3NpYmxlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICB9XG5cbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUudXJsRm9ySW1hZ2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW1hZ2VVUkwgPSBcImh0dHA6Ly9wbGFjZWhvbGQuaXQvMjAweDIwMFwiO1xuICAgIGlmICgkc2NvcGUuaW1hZ2UpIHtcbiAgICAgIHZhciBuYW1lID0gJHNjb3BlLmltYWdlLnN1YnN0cigkc2NvcGUuaW1hZ2UubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgaW1hZ2VVUkwgPSBjb3Jkb3ZhLmZpbGUuZGF0YURpcmVjdG9yeSArIG5hbWU7XG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coXCJJbWFnZVVSTCA9IFwiICsgaW1hZ2VVUkwpO1xuICAgIHJldHVybiBpbWFnZVVSTDtcbiAgfTtcblxuXG4gICAgJHNjb3BlLnNjcm9sbE1lID0gZnVuY3Rpb24oYW5jaG9yX2lkKXtcbiAgICAgICRsb2NhdGlvbi5oYXNoKGFuY2hvcl9pZCk7XG4gICAgICB2YXIgaGFuZGxlICA9ICRpb25pY1Njcm9sbERlbGVnYXRlLiRnZXRCeUhhbmRsZSgnY29udGVudCcpO1xuICAgICAgaGFuZGxlLmFuY2hvclNjcm9sbCgpO1xuICAgIH1cblxuICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbiA9IGZ1bmN0aW9uKGJ1dHRvbmlkKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidXR0b25pZCkuY2xhc3NOYW1lID0gXCJvcHRpb24tYWN0aXZlXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzID0gZnVuY3Rpb24oKXtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2xvc2VfcmVwb3J0X2RldGFpbF9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAkc2NvcGUucmVwb3J0X2RldGFpbF9pZCA9IG51bGw7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXIgbWFwIG9uIHVzZXIncyBjdXJyZW50IHBvc2l0aW9uXG4gICAgICovXG4gICAgJHNjb3BlLmxvY2F0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24oKVxuICAgICAgICAudGhlbihmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxhdCA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLnpvb20gPSAxNTtcblxuICAgICAgICAgICRzY29wZS5tYXAubWFya2Vycy5ub3cgPSB7XG4gICAgICAgICAgICBsYXQ6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgIGxuZzogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiWW91IEFyZSBIZXJlXCIsXG4gICAgICAgICAgICBmb2N1czogdHJ1ZSxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkxvY2F0aW9uIGVycm9yIVwiKTtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuXG5cbiAgICAkc2NvcGUuYWRkTWFwQ29udHJvbHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcF9jcm9zc2hhaXInKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcF9jcm9zc2hhaXJfYnV0dG9uJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgIH07XG5cblxuICAgICRzY29wZS5jaGFuZ2VVc2VyTG9jYXRpb25QaW4gPSBmdW5jdGlvbihsYXQsbG9uLHVpZCl7XG4gICAgICBpZigkc2NvcGUub25saW5lX3VzZXJfZ2VvX2FycmF5W3VpZF0pe1xuICAgICAgICBsYXllciA9ICRzY29wZS5vbmxpbmVfdXNlcl9nZW9fYXJyYXlbdWlkXTtcbiAgICAgICAgdmFyIG5ld0xhdExuZyA9IG5ldyBMLkxhdExuZyhsYXQsIGxvbik7XG4gICAgICAgIGxheWVyLnNldExhdExuZyhuZXdMYXRMbmcpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5oaWRlT2ZmU2NyZWVuUGlucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgLypsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgbWFwQm91bmRzID0gbWFwLmdldEJvdW5kcygpO1xuICAgICAgICAkc2NvcGUudXNlcnNWaXNpYmxlID0gW107XG4gICAgICAgICAgJHNjb3BlLm9ubGluZV91c2VyX2dlb19hcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyLGtleSl7XG4gICAgICAgICAgICB2YXIgc2hvdWxkQmVWaXNpYmxlID0gbWFwQm91bmRzLmNvbnRhaW5zKGxheWVyLmdldExhdExuZygpKTtcbiAgICAgICAgICAgIGlmICghc2hvdWxkQmVWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hvdWxkQmVWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgbWFwLmFkZExheWVyKGxheWVyKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudXNlcnNWaXNpYmxlLnB1c2gobGF5ZXIuZmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgIH0pOyovXG4gICAgfVxuXG4gICAgJHNjb3BlLmxvYWRQaW5zTGF5ZXIgPSBmdW5jdGlvbigpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgICBDa2FuU2VydmljZS5nZXRBbGxQb2x5Z29ucygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZihDa2FuU2VydmljZS5sYXN0UGluc1Jlc3BvbnNlPT1udWxsIHx8IChDa2FuU2VydmljZS5sYXN0UGluc1Jlc3BvbnNlICYmIENrYW5TZXJ2aWNlLmxhc3RQaW5zUmVzcG9uc2UhPXJlc3BvbnNlKSl7XG4gICAgICAgICAgICAgIGlmKCRzY29wZS5hc2VudGFtaWVudG9zX2xheWVycyl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFzZW50YW1pZW50b3NfbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24obGF5ZXIsa2V5KXtcbiAgICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBDa2FuU2VydmljZS5sYXN0UGluc1Jlc3BvbnNlID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coQ2thblNlcnZpY2UubGFzdFBpbnNSZXNwb25zZSk7XG4gICAgICAgICAgICAgIENrYW5TZXJ2aWNlLmxhc3RQaW5zUmVzcG9uc2UucmVzdWx0LnJlY29yZHMuZm9yRWFjaChmdW5jdGlvbihmZWF0dXJlKXtcbiAgICAgICAgICAgICAgICBpZigkc2NvcGUuZ2V0VHlwZU9mTWFwT2JqZWN0KGZlYXR1cmUud2t0X2dlb20pPT1cIlBvbHlnb25cIil7XG4gICAgICAgICAgICAgICAgICB2YXIgbGF0bG5ncyA9ICRzY29wZS5nZXRPbmx5Q29vcmRpbmF0ZXNQb2x5Z29uKGZlYXR1cmUud2t0X2dlb20pO1xuICAgICAgICAgICAgICAgICAgdmFyIHBvbHlnb24gPSBMLnBvbHlnb24obGF0bG5ncywge2NvbG9yOiAncmVkJ30pLmJpbmRQb3B1cChmZWF0dXJlLk5PTV9BU1QgKyBcIiAtIFwiICsgZmVhdHVyZS5DT0RfQVNUICsgXCIgLSBcIiArIGZlYXR1cmUud2t0X2dlb20pLmFkZFRvKG1hcCk7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoJHNjb3BlLmdldFR5cGVPZk1hcE9iamVjdChmZWF0dXJlLndrdF9nZW9tKT09XCJNdWx0aVBvbHlnb25cIil7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFzZW50YW1pZW50b3NfbGF5ZXJzW2ZlYXR1cmUuQ09EX0FTVF0gPSBmZWF0dXJlO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZmVhdHVyZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAvLyRzY29wZS5oaWRlT2ZmU2NyZWVuUGlucygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAkc2NvcGUuZ2V0T25seUNvb3JkaW5hdGVzUG9seWdvbiA9IGZ1bmN0aW9uKHdrdF9nZW9tKXtcbiAgICB3a3RfZ2VvbSA9IHdrdF9nZW9tLnJlcGxhY2UoXCJQb2x5Z29uICgoXCIsXCJcIik7XG4gICAgd2t0X2dlb20gPSB3a3RfZ2VvbS5yZXBsYWNlKFwiKSlcIixcIlwiKTtcbiAgICB2YXIgcG9pbnRzQXJyYXkgPSB3a3RfZ2VvbS5zcGxpdChcIixcIik7XG4gICAgdmFyIHBvbHlnb25Qb2ludHNDb29yZGluYXRlcyA9IG5ldyBBcnJheSgpO1xuICAgIHBvaW50c0FycmF5LmZvckVhY2goZnVuY3Rpb24ocG9pbnQsa2V5KXtcbiAgICAgIHBvaW50ID0gcG9pbnQudHJpbSgpO1xuICAgICAgdmFyIGNvb3JkaW5hdGVzQXJyYXkgPSBwb2ludC5zcGxpdChcIiBcIik7XG4gICAgICB2YXIgbGF0ID0gY29vcmRpbmF0ZXNBcnJheVswXTtcbiAgICAgIHZhciBsb24gPSBjb29yZGluYXRlc0FycmF5WzFdO1xuICAgICAgdmFyIG5ld0Nvb3JkaW5hdGVzID0gUGluU2VydmljZS5jb252ZXJ0TGF0TG9uZ1Byb2oobGF0LGxvbiwkc2NvcGUpO1xuICAgICAgdmFyIGxhdGxvbiA9IFtuZXdDb29yZGluYXRlcy5sYXQsIG5ld0Nvb3JkaW5hdGVzLmxuZ107XG4gICAgICBwb2x5Z29uUG9pbnRzQ29vcmRpbmF0ZXMucHVzaChsYXRsb24pO1xuICAgIH0pO1xuICAgIHJldHVybiBwb2x5Z29uUG9pbnRzQ29vcmRpbmF0ZXM7XG4gIH1cblxuICAkc2NvcGUuZ2V0VHlwZU9mTWFwT2JqZWN0ID0gZnVuY3Rpb24od2t0X2dlb20pe1xuICAgIGlmKHdrdF9nZW9tLnN0YXJ0c1dpdGgoXCJNdWx0aVBvbHlnb25cIikpe1xuICAgICAgcmV0dXJuIFwiTXVsdGlQb2x5Z29uXCI7XG4gICAgfVxuICAgIGlmKHdrdF9nZW9tLnN0YXJ0c1dpdGgoXCJQb2x5Z29uXCIpKXtcbiAgICAgIHJldHVybiBcIlBvbHlnb25cIjtcbiAgICB9XG4gIH1cblxuICAgIC8vUEFSQSBDT05UUk9MQVIgRUwgRU5URVIgRU4gQUxHVU5PUyBGT1JNU1xuICAgIC8qJHNjb3BlLmtleV9wcmVzcyA9IGZ1bmN0aW9uKGV2ZW50LHN0YWdlKXtcbiAgICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICAgIGlmKHN0YWdlPT0ncHJpdmF0ZV9jaGF0Jyl7XG4gICAgICAgIGlmKGtleUNvZGU9PTEzKXtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYoY29yZG92YT09PW51bGwpe1xuXG4gICAgICAgICAgICB9ZWxzZSBpZihjb3Jkb3ZhJiZjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQpe1xuICAgICAgICAgICAgICBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY2F0Y2goZXJyKSB7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9Ki9cblxuXG4gICAgJHNjb3BlLnRpbWVDb252ZXJ0ZXIgPSBmdW5jdGlvbihVTklYX3RpbWVzdGFtcCl7XG4gICAgICB2YXIgYSA9IG5ldyBEYXRlKFVOSVhfdGltZXN0YW1wICogMTAwMCk7XG4gICAgICB2YXIgbW9udGhzID0gWydFbmVybycsJ0ZlYnJlcm8nLCdNYXJ6bycsJ0FicmlsJywnTWF5bycsJ0p1bmlvJywnSnVsaW8nLCdBZ29zdG8nLCdTZXRpZW1icmUnLCdPY3R1YnJlJywnTm92aWVtYnJlJywnRGljaWVtYnJlJ107XG4gICAgICB2YXIgeWVhciA9IGEuZ2V0RnVsbFllYXIoKTtcbiAgICAgIC8vdmFyIG1vbnRoID0gbW9udGhzW2EuZ2V0TW9udGgoKV07XG4gICAgICB2YXIgbW9udGggPSBhLmdldE1vbnRoKCk7XG4gICAgICBpZihtb250aDwxMCl7XG4gICAgICAgIG1vbnRoID0gXCIwXCIrbW9udGg7XG4gICAgICB9XG4gICAgICB2YXIgZGF5ID0gYS5nZXREYXRlKCk7XG4gICAgICBpZihkYXk8MTApe1xuICAgICAgICBkYXkgPSBcIjBcIitkYXk7XG4gICAgICB9XG4gICAgICB2YXIgaG91ciA9IGEuZ2V0SG91cnMoKTtcbiAgICAgIGlmKGhvdXI8MTApe1xuICAgICAgICBob3VyID0gXCIwXCIraG91cjtcbiAgICAgIH1cbiAgICAgIHZhciBtaW4gPSBhLmdldE1pbnV0ZXMoKTtcbiAgICAgIGlmKG1pbjwxMCl7XG4gICAgICAgIG1pbiA9IFwiMFwiK21pbjtcbiAgICAgIH1cbiAgICAgIHZhciBzZWMgPSBhLmdldFNlY29uZHMoKTtcbiAgICAgIHZhciB0aW1lID0gZGF5ICsgJy8nICsgbW9udGggKyAnLycgKyB5ZWFyICsgJyAnICsgaG91ciArICc6JyArIG1pbjtcbiAgICAgIHJldHVybiB0aW1lO1xuICAgIH1cblxuXG5cbiAgICAvLyBTdWdnZXN0aW9uXG4gICAgJHNjb3BlLm1vZGVsID0gW107XG4gICAgJHNjb3BlLmV4dGVybmFsTW9kZWwgPSBbXTtcbiAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtcyA9IFtdO1xuICAgICRzY29wZS5wcmVzZWxlY3RlZFNlYXJjaEl0ZW1zID0gW107XG4gICAgJHNjb3BlLmNsaWNrZWRWYWx1ZU1vZGVsID0gXCJcIjtcbiAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBcIlwiO1xuXG5cbiAgICAkc2NvcGUuaXRlbXNSZW1vdmVkID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICRzY29wZS5yZW1vdmVkVmFsdWVNb2RlbCA9IGNhbGxiYWNrO1xuICAgIH07XG5cbiAgICAkc2NvcGUudXNlcl9vcHRpb25zID0gZnVuY3Rpb24oKXtcbiAgICAgIC8qdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgaWYobWVudS5zdHlsZS5kaXNwbGF5PT1cImJsb2NrXCIpe1xuICAgICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH1lbHNle1xuICAgICAgICAvL2NvbnNvbGUubG9nKFVzZXJTZXJ2aWNlLm5hbWUpO1xuICAgICAgICB2YXIgbmFtZSA9IFVzZXJTZXJ2aWNlLm5hbWU7XG4gICAgICAgIGlmKG5hbWU9PW51bGwpe1xuICAgICAgICAgIC8vTm8gZXN0YSBsb2d1ZWFkb1xuICAgICAgICAgICRzY29wZS5zaG93X2Fub255bW91c19tZW51KCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vRXN0w6EgbG9ndWVhZG9cbiAgICAgICAgICAkc2NvcGUuc2hvd191c2VyX21lbnUoKTtcbiAgICAgICAgfVxuICAgICAgfSovXG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgLyp2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICB2YXIgaHRtbCA9IFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X2xvZ2luX21vZGFsKCknPkluaWNpYXIgc2VzacOzbjwvZGl2PlwiO1xuICAgICAgaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J25vbmF1dGgtbGluaycgbmctY2xpY2s9J3Nob3dfc2lnbl91cF9tb2RhbCgpJz5SZWdpc3RyYXJzZTwvZGl2PjwvZGl2PlwiO1xuICAgICAgbWVudS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgJGNvbXBpbGUobWVudSkoJHNjb3BlKTsgLy88LS0tLSByZWNvbXBpbGF0aW9uXG4gICAgICBtZW51LnN0eWxlLmhlaWdodCA9ICcxMjBweCc7XG4gICAgICBtZW51LnN0eWxlLndpZHRoID0gJzE1MHB4JztcbiAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjsqL1xuICAgIH1cblxuICAgICRzY29wZS5zaG93X3VzZXJfbWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICAvKnZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIHZhciBodG1sID0gVXNlclNlcnZpY2UubmFtZSArIFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nc2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwoKSc+TWkgcGVyZmlsPC9kaXY+XCI7XG4gICAgICAvL2h0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nY2hhbmdlX3Bhc3N3b3JkKCknPkNhbWJpYXIgY29udHJhc2XDsWE8L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nc2lnbl9vdXQoKSc+Q2VycmFyIHNlc2nDs248L2Rpdj48L2Rpdj5cIjtcbiAgICAgIG1lbnUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICRjb21waWxlKG1lbnUpKCRzY29wZSk7IC8vPC0tLS0gcmVjb21waWxhdGlvblxuICAgICAgbWVudS5zdHlsZS5oZWlnaHQgPSAnMjIwcHgnO1xuICAgICAgbWVudS5zdHlsZS53aWR0aCA9ICcyMDBweCc7XG4gICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7Ki9cbiAgICB9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheSA9IGZ1bmN0aW9uKG5hbWUsdHlwZSx2YWx1ZSl7XG4gICAgICB2YXIgZmllbGQgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkLm5hbWUgPSBuYW1lO1xuICAgICAgZmllbGQudHlwZSA9IHR5cGU7XG4gICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5X3dpdGhfdHdvRmllbGRzID0gZnVuY3Rpb24obmFtZSx0eXBlLHZhbHVlLHNlY29uZFZhbHVlKXtcbiAgICAgIHZhciBmaWVsZCA9IG5ldyBBcnJheSgpO1xuICAgICAgZmllbGQubmFtZSA9IG5hbWU7XG4gICAgICBmaWVsZC50eXBlID0gdHlwZTtcbiAgICAgIGZpZWxkLnZhbHVlID0gdmFsdWU7XG4gICAgICBmaWVsZC5zZWNvbmRWYWx1ZSA9IHNlY29uZFZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsgPSBmdW5jdGlvbih1cmwpe1xuICAgICAgaWYodXJsLmluZGV4T2YoXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIpID49IDApe1xuICAgICAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIpO1xuICAgICAgICB2YXIgbmV3VXJsID0gXCJodHRwOi8vZ3JhcGguZmFjZWJvb2suY29tXCIrcGFydHNbMV07XG4gICAgICAgIHJldHVybiBuZXdVcmw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH07XG5cbiAgICAkc2NvcGUubG9nX2luID0gZnVuY3Rpb24odXNlciwgcGFzc3dvcmQpe1xuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJzdWJtaXQtZm9ybVwiKSl7XG4gICAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiVXN1YXJpb1wiLFwibm90TnVsbFwiLHVzZXIpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29udHJhc2XDsWFcIixcIm5vdE51bGxcIixwYXNzd29yZCkpO1xuICAgICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgIEF1dGhTZXJ2aWNlLmxvZ19pbih1c2VyLHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bChyZXNwLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICAgICAgICBwaG90byA9ICRzY29wZS5maXhfZmJfaW1hZ2VfbGluaygkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90byk7XG4gICAgICAgICAgICAgICAgaWYocGhvdG89PVwiYW5vblwiKXtcbiAgICAgICAgICAgICAgICAgIHBob3RvPVwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YSgkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5OYW1lLCAkc2NvcGUubm9uYXV0aC5wYXNzd29yZCwgcGhvdG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlNob3dMb2NhdGlvbiwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcbiAgICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwkc2NvcGUubm9uYXV0aC5wYXNzd29yZCxwaG90bywkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2xvZ2luX21vZGFsKCk7XG4gICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAvL2FsZXJ0KFwiRXJyb3IgZW4gc2lnbl9pblwiKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgIEVycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2UoXCJlcnJvcl9jb250YWluZXJcIixyZXNwLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgUG9wVXBTZXJ2aWNlLnNob3dfYWxlcnQoXCJTaW4gY29uZXhpw7NuIGEgaW50ZXJuZXRcIixcIlBhcmEgaW5pY2lhciBzZXNpw7NuIGRlYmUgZXN0YXIgY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUubG9nX2luX2JhY2tncm91bmQgPSBmdW5jdGlvbih1c2VyLCBwYXNzd29yZCl7XG4gICAgICBBdXRoU2VydmljZS5sb2dfaW4odXNlcixwYXNzd29yZCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheChyZXNwKSl7XG4gICAgICAgICAgcGhvdG8gPSAkc2NvcGUuZml4X2ZiX2ltYWdlX2xpbmsoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuUGhvdG8pO1xuICAgICAgICAgIGlmKHBob3RvPT1cImFub25cIil7XG4gICAgICAgICAgICBwaG90bz1cInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgcGFzc3dvcmQsIHBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLk5hbWUscGFzc3dvcmQscGhvdG8sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuU2hvd0xvY2F0aW9uLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5Fc3RhZG8sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkdlbmRlciwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuSW50ZXJlc3RlZEluKTtcblxuICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgLy9FcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwKHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSk7XG4gICAgfVxuXG5cblxuICAgICRzY29wZS5zaWduX291dCA9IGZ1bmN0aW9uKCl7XG4gICAgICBVc2VyU2VydmljZS5lcmFzZV91c2VyX2RhdGEoKTtcbiAgICAgIERCU2VydmljZS5lcmFzZVVzZXIoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgIC8qZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiOyovXG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfZWRpdF9wcm9maWxlX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBsYSBpbmZvIGRlbCB1c3VhcmlvIGxvZ3VlYWRvIHkgY29uIGVsIHN1Ym1pdCBhIGVkaXRfcHJvZmlsZV9va1xuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJvcGVuLW1vZGFsXCIpKXtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyID0gbmV3IEFycmF5KCk7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmVtYWlsID0gVXNlclNlcnZpY2UuZW1haWw7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmdlbmRlciA9IFVzZXJTZXJ2aWNlLmdlbmRlcjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIudXNlcm5hbWUgPSBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5pbnRlcmVzdGVkID0gVXNlclNlcnZpY2UuaW50ZXJlc3RlZDtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuc3RhdHVzID0gVXNlclNlcnZpY2Uuc3RhdHVzO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5zaG93X2xvY2F0aW9uID0gVXNlclNlcnZpY2Uuc2hvd19sb2NhdGlvbjtcbiAgICAgICAgJHNjb3BlLmFjdHVhbF9waG90byA9IFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsO1xuICAgICAgICBpZigkc2NvcGUuYWN0dWFsX3Bob3RvIT1udWxsKXtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLmFjdHVhbF9waG90byA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZigkc2NvcGUuYWN0dWFsX3Bob3RvPT1cInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIil7XG4gICAgICAgICAgJHNjb3BlLmFjdHVhbF9waG90byA9IFwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgICAgfVxuICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgICAgaWYoVmFsaWRhdGlvblNlcnZpY2UuaXNNb2JpbGVEZXZpY2UoKSl7XG4gICAgICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9lZGl0X3Byb2ZpbGVfd2l0aF9waG90by5odG1sJywge1xuICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2VkaXRfcHJvZmlsZV93aXRoX3Bob3RvX2Rlc2t0b3AuaHRtbCcsIHtcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLnJlYWRVUkwgPSBmdW5jdGlvbiAoaW5wdXQsdHlwZSkge1xuICAgICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIGlmKHR5cGU9PTEpe1xuICAgICAgICAgICRzY29wZS5uZXd1c2VyLnBpY3R1cmVfdXJsID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgICAgICB9ZWxzZSBpZiAodHlwZT09Mil7XG4gICAgICAgICAgJHNjb3BlLmNvbW1lbnQucGhvdG8gPSBpbnB1dC5maWxlc1swXTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLnJlcG9ydC5maWxlID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteUltYWdlXCIpLnNyYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XG4gICAgfVxuXG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAvL0NhcmdhciBlbCBtb2RhbCBjb24gbGEgaW5mbyBkZWwgdXN1YXJpbyBsb2d1ZWFkbyB5IGNvbiBlbCBzdWJtaXQgYSB1cGRhdGVfdXNlclxuICAgICAgTW9kYWxTZXJ2aWNlLmNoZWNrTm9Nb2RhbElzT3BlbigpO1xuICAgIH1cblxuICAgICRzY29wZS5lZGl0X3Byb2ZpbGVfb2sgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmVkaXRfcHJvZmlsZSgpO1xuICAgIH1cblxuICAgICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgaWYocmVzcG9uc2UuZGF0YSl7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuZWRpdF9wcm9maWxlID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwic3VibWl0LWZvcm1cIikpe1xuICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAvKnZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29ycmVvIGVsZWN0csOzbmljb1wiLFwiZW1haWxcIixuZXdfZW1haWwpKTtcbiAgICAgICAgICAvL2ZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLHBhc3N3b3JkKSk7XG4gICAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkPDqWR1bGEgZGUgSWRlbnRpZGFkXCIsXCJpZGRvY191eVwiLGlkX2RvYykpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJOb21icmUgeSBhcGVsbGlkb1wiLFwidHdvX3dvcmRzXCIsZnVsbG5hbWUpKTsqL1xuICAgICAgICAgIC8qaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpeyovXG4gICAgICAgICAgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQgPSBVc2VyU2VydmljZS5wYXNzd29yZDtcbiAgICAgICAgICAgIHZhciBlZGl0X3JlcXVlc3QgPSBBdXRoU2VydmljZS5lZGl0X3VzZXIoJHNjb3BlLm5ld3VzZXIpO1xuICAgICAgICAgICAgaWYoJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmw9PW51bGwgfHwgJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmw9PVwiXCIgfHwgIVZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICAgICBlZGl0X3JlcXVlc3Quc3VjY2VzcyhmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiAxMDAlXCI7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwkc2NvcGUubmV3dXNlci5wYXNzd29yZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bywkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLGNvbmZpZyl7XG4gICAgICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBlZGl0X3JlcXVlc3QudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0LnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwoZGF0YSxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICAgICBkYXRhID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShkYXRhLk5hbWUsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCBkYXRhLlBob3RvLCBkYXRhLlNob3dMb2NhdGlvbiwgZGF0YS5VaWQsIGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKGRhdGEuTmFtZSwkc2NvcGUubmV3dXNlci5wYXNzd29yZCxkYXRhLlBob3RvLGRhdGEuU2hvd0xvY2F0aW9uLGRhdGEuVWlkLGRhdGEuRXN0YWRvLCBkYXRhLkdlbmRlciwgZGF0YS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2VkaXRfcHJvZmlsZV9tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIHZhciBhbGVydCA9IFwiQ8OzZGlnbzogXCIgKyBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBPcmlnZW46IFwiICsgZXJyb3Iuc291cmNlO1xuICAgICAgICAgICAgICAgIGFsZXJ0ID0gYWxlcnQgKyBcIiBEZXN0aW5vOiBcIiArIGVycm9yLnRhcmdldDtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgaHR0cF9zdGF0dXM6IFwiICsgZXJyb3IuaHR0cF9zdGF0dXM7XG4gICAgICAgICAgICAgICAgYWxlcnQgPSBhbGVydCArIFwiIEJvZHk6IFwiICsgZXJyb3IuYm9keTtcbiAgICAgICAgICAgICAgICBhbGVydCA9IGFsZXJ0ICsgXCIgRXhjZXB0aW9uOiBcIiArIGVycm9yLmV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIsXCJIdWJvIHVuIGVycm9yIGVuIGVsIGVudsOtbzogXCIgKyBhbGVydCk7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkUHJvZ3Jlc3MgPSAocHJvZ3Jlc3MubG9hZGVkIC8gcHJvZ3Jlc3MudG90YWwpICogMTAwO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnRfbGFiZWxcIikuaW5uZXJIVE1MID0gXCJFbnZpYWRvOiBcIiArIE1hdGgucm91bmQoJHNjb3BlLnVwbG9hZFByb2dyZXNzKSArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIC8qfWVsc2V7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICB9Ki9cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBlZGl0YXIgc3UgcGVyZmlsIGRlYmUgZXN0YXIgY29uZWN0YWRvIGEgaW50ZXJuZXRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuICAgICRzY29wZS5zaG93X2xvZ2luX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vQ2FyZ2FyIGVsIG1vZGFsIGNvbiBlbCBmb3JtIGRlIGxvZ2luIHkgYWhpIGxsYW1hIGFsIHNpZ25faW5cbiAgICAgIGlmKFNlbWFwaG9yZVNlcnZpY2UudGFrZUlmQXZhaWxhYmxlKFwib3Blbi1tb2RhbFwiKSl7XG4gICAgICAgICRzY29wZS5ub25hdXRoID0gbmV3IEFycmF5KCk7XG4gICAgICAgICRzY29wZS5ub25hdXRoLnVzZXIgPSBcIlwiO1xuICAgICAgICAkc2NvcGUubm9uYXV0aC5wYXNzd29yZCA9IFwiXCI7XG4gICAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvbG9nX2luLmh0bWwnLCB7XG4gICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5sb2dpbl9vayA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUubG9nX2luKCRzY29wZS5ub25hdXRoLnVzZXIsJHNjb3BlLm5vbmF1dGgucGFzc3dvcmQpO1xuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9sb2dpbl9tb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgfVxuXG5cblxuICAgICRzY29wZS5zaG93X3NpZ25fdXBfbW9kYWwgPSBmdW5jdGlvbigpe1xuICAgICAgLy9jYXJnYXIgZWwgbW9kYWwgY29uIGVsIGZvcm0gZGUgc2lnbl91cCB5IGRlIGFoaSBsbGFtYXIgYWwgc2lnbl91cFxuICAgICAgaWYoU2VtYXBob3JlU2VydmljZS50YWtlSWZBdmFpbGFibGUoXCJvcGVuLW1vZGFsXCIpKXtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuZW1haWwgPSBcIlwiO1xuICAgICAgICAkc2NvcGUubmV3dXNlci5wYXNzd29yZCA9IFwiXCI7XG4gICAgICAgICRzY29wZS5uZXd1c2VyLmZ1bGxuYW1lID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIuaWRfZG9jID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIudGVsZXBob25lID0gXCJcIjtcbiAgICAgICAgJHNjb3BlLm5ld3VzZXIucGhvdG8gPSBcIlwiO1xuICAgICAgICBNb2RhbFNlcnZpY2UuY2hlY2tOb01vZGFsSXNPcGVuKCk7XG4gICAgICAgIGlmKFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3NpZ25fdXAuaHRtbCcsIHtcbiAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgICAgICAgICAgTW9kYWxTZXJ2aWNlLmFjdGl2ZU1vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJvcGVuLW1vZGFsXCIpO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvc2lnbl91cF9kZXNrdG9wLmh0bWwnLCB7XG4gICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgICAgICAgICAgIE1vZGFsU2VydmljZS5hY3RpdmVNb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwib3Blbi1tb2RhbFwiKTtcbiAgICAgICAgICAgICAgICBNb2RhbFNlcnZpY2UuYWN0aXZlTW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5jbG9zZV9zaWduX3VwX21vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgIE1vZGFsU2VydmljZS5jaGVja05vTW9kYWxJc09wZW4oKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl91cCA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZihTZW1hcGhvcmVTZXJ2aWNlLnRha2VJZkF2YWlsYWJsZShcInN1Ym1pdC1mb3JtXCIpKXtcbiAgICAgICAgaWYoQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgIC8qZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvcnJlbyBlbGVjdHLDs25pY29cIixcImVtYWlsXCIsJHNjb3BlLm5ld3VzZXIuZW1haWwpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiQ29udHJhc2XDsWFcIixcIm5vdE51bGxcIiwkc2NvcGUubmV3dXNlci5wYXNzd29yZCkpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJVc3VhcmlvXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIudXNlcm5hbWUpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiR8OpbmVyb1wiLFwibm90TnVsbFwiLCRzY29wZS5uZXd1c2VyLmdlbmRlcikpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJJbnRlcmVzYWRvIGVuXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIuaW50ZXJlc3RlZCkpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJFc3RhZG9cIixcIm5vdE51bGxcIiwkc2NvcGUubmV3dXNlci5zdGF0dXMpKTtcbiAgICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiTW9zdHJhciB1YmljYWNpw7NuXCIsXCJub3ROdWxsXCIsJHNjb3BlLm5ld3VzZXIuc2hvd19sb2NhdGlvbikpO1xuICAgICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXlfd2l0aF90d29GaWVsZHMoXCInQ29udHJhc2XDsWEnIHkgJ0NvbmZpcm1hciBjb250cmFzZcOxYSdcIixcImVxdWFsc1RvXCIsJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsICRzY29wZS5uZXd1c2VyLnJlcGFzc3dvcmQpKTsqL1xuICAgICAgICAgIC8vaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgaWYoJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmwhPW51bGwgJiYgJHNjb3BlLm5ld3VzZXIucGljdHVyZV91cmwhPVwiXCIgJiYgVmFsaWRhdGlvblNlcnZpY2UuaXNNb2JpbGVEZXZpY2UoKSl7XG4gICAgICAgICAgICAgIEF1dGhTZXJ2aWNlLmNyZWF0ZV91c2VyKCRzY29wZS5uZXd1c2VyKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VudF9sYWJlbFwiKS5pbm5lckhUTUwgPSBcIkVudmlhZG86IDEwMCVcIjtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwoZGF0YSxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgICAgICBkYXRhID0gJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShkYXRhLm5hbWUsIGRhdGEuZW1haWwsICRzY29wZS5uZXd1c2VyLnBhc3N3b3JkLCBkYXRhLmlkZW50aXR5X2RvY3VtZW50LCBkYXRhLnBob25lLCBkYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKGRhdGEuTmFtZSwgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsIGRhdGEuUGhvdG8sIGRhdGEuU2hvd0xvY2F0aW9uLCBkYXRhLlVpZCwgZGF0YS5Fc3RhZG8sIGRhdGEuR2VuZGVyLCBkYXRhLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIoZGF0YS5OYW1lLHBhc3N3b3JkLGRhdGEuUGhvdG8sZGF0YS5TaG93TG9jYXRpb24sZGF0YS5VaWQsZGF0YS5Fc3RhZG8sIGRhdGEuR2VuZGVyLCBkYXRhLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuY2xvc2VfZWRpdF9wcm9maWxlX21vZGFsKCk7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQoKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIEF1dGhTZXJ2aWNlLmNyZWF0ZV91c2VyKCRzY29wZS5uZXd1c2VyKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwgJHNjb3BlLm5ld3VzZXIucGFzc3dvcmQsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlBob3RvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLlVpZCwgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuRXN0YWRvLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5HZW5kZXIsICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkludGVyZXN0ZWRJbik7XG4gICAgICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIoJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuTmFtZSwkc2NvcGUubmV3dXNlci5wYXNzd29yZCwkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5QaG90bywkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5TaG93TG9jYXRpb24sJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuVWlkLCRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLkVzdGFkbywgJHNjb3BlLmdldE9iamVjdERhdGFGcm9tUmVzcG9uc2UocmVzcCkuR2VuZGVyLCAkc2NvcGUuZ2V0T2JqZWN0RGF0YUZyb21SZXNwb25zZShyZXNwKS5JbnRlcmVzdGVkSW4pO1xuICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgICAgIFNlbWFwaG9yZVNlcnZpY2UubWFrZUF2YWlsYWJsZUFnYWluKFwic3VibWl0LWZvcm1cIik7XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZV9zaWduX3VwX21vZGFsKCk7XG4gICAgICAgICAgICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJVc3VhcmlvIGNyZWFkbyBjb24gw6l4aXRvXCIsXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICRzY29wZS5nZXRPYmplY3REYXRhRnJvbVJlc3BvbnNlKHJlc3ApLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgU2VtYXBob3JlU2VydmljZS5tYWtlQXZhaWxhYmxlQWdhaW4oXCJzdWJtaXQtZm9ybVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIscmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgLyp9ZWxzZXtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgIH0qL1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBTZW1hcGhvcmVTZXJ2aWNlLm1ha2VBdmFpbGFibGVBZ2FpbihcInN1Ym1pdC1mb3JtXCIpO1xuICAgICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiU2luIGNvbmV4acOzbiBhIGludGVybmV0XCIsXCJQYXJhIGluaWNpYXIgcmVnaXN0cmFyc2UgZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5zaWduX3VwX29rID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vY29uc29sZS5sb2coJHNjb3BlLm5ld3VzZXIpO1xuICAgICAgJHNjb3BlLnNpZ25fdXAoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG5hbWUgPSBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgaWYobmFtZT09bnVsbCl7XG4gICAgICAgICAgLy9TaSBIYXkgdW4gdXN1YXJpbyBndWFyZGFkb1xuICAgICAgICAgIHZhciB1c2VyID0gREJTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICAgICAgICB1c2VyLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgICAgaWYoZG9jLm5hbWUhPW51bGwgJiYgZG9jLm5hbWUhPVwiXCIgJiYgZG9jLm5hbWUhPVwidW5kZWZpbmVkXCIpe1xuICAgICAgICAgICAgICAkc2NvcGUubG9nX2luX2JhY2tncm91bmQoZG9jLm5hbWUsIGRvYy5wYXNzd29yZCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybD09bnVsbCB8fCBVc2VyU2VydmljZS5waWN0dXJlX3VybD09XCJcIil7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIG5vIHRpZW5lIGZvdG8gZGVmaW5pZGFcbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIHRpZW5lIGZvdG9cbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5zZXRfb2ZmbGluZV91c2VyID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgIGlmKG5hbWU9PW51bGwpe1xuICAgICAgICAgIC8vU2kgSGF5IHVuIHVzdWFyaW8gZ3VhcmRhZG9cbiAgICAgICAgICB2YXIgdXNlciA9IERCU2VydmljZS5nZXRVc2VyKCk7XG4gICAgICAgICAgdXNlci50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgIGlmKGRvYy5uYW1lIT1udWxsICYmIGRvYy5uYW1lIT1cIlwiICYmIGRvYy5uYW1lIT1cInVuZGVmaW5lZFwiKXtcbiAgICAgICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZV91c2VyX2RhdGEoZG9jLm5hbWUsIGRvYy5wYXNzd29yZCwgZG9jLnBpY3R1cmVfdXJsLCBkb2Muc2hvd19sb2NhdGlvbik7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybD09bnVsbCB8fCBVc2VyU2VydmljZS5waWN0dXJlX3VybD09XCJcIil7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIG5vIHRpZW5lIGZvdG8gZGVmaW5pZGFcbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9FbCB1c3VhcmlvIHRpZW5lIGZvdG9cbiAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSA9IGZ1bmN0aW9uKGhhc1Bob3RvKXtcbiAgICAgIHZhciBwaWN0dXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyX3BpY3R1cmVcIik7XG4gICAgICBpZihoYXNQaG90bz09MCl7XG4gICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlPVwiLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmdcIjtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZihVc2VyU2VydmljZS5waWN0dXJlX3VybCE9bnVsbCAmJiBVc2VyU2VydmljZS5waWN0dXJlX3VybCE9XCJcIil7XG4gICAgICAgICAgLy9hbGVydChVc2VyU2VydmljZS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlPVVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsO1xuICAgICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIFVzZXJTZXJ2aWNlLnBpY3R1cmVfdXJsICsgXCIpXCI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vcGljdHVyZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgICAgICAgICAkc2NvcGUudXNlcl9jYWNoZWRfaW1hZ2U9XCIuL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZ1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICAkc2NvcGUuZmluZF9tZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbihcImJ1dHRvbi1maW5kLW1lXCIpO1xuICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMTAwMDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZX07XG4gICAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKHBvc09wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubGF0ICA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICAgICAgICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcbiAgICAgICAgICAgICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE4O1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIuem9vbSA9IDE2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLm1hcmtlcnMubm93ID0ge1xuICAgICAgICAgICAgICAgICAgbGF0OnBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICAgIGxuZzpwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCI8cCBhbGlnbj0nY2VudGVyJz5UZSBlbmN1ZW50cmFzIGFxdcOtIDxici8+IDxhIG5nLWNsaWNrPSduZXdfcmVwb3J0KDEpOyc+SW5pY2lhciByZXBvcnRlIGVuIHR1IHBvc2ljacOzbiBhY3R1YWw8L2E+PC9wPlwiLFxuICAgICAgICAgICAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgZ2V0TWVzc2FnZVNjb3BlOiBmdW5jdGlvbigpIHsgcmV0dXJuICRzY29wZTsgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8kc2NvcGUubWFwLm1hcmtlcnMubm93Lm9wZW5Qb3B1cCgpO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJMb2NhdGlvbiBlcnJvciFcIik7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgIC8vRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChcIk5vIGhlbW9zIHBvZGlkbyBnZW9sb2NhbGl6YXJsby4gwr9UYWwgdmV6IG9sdmlkw7MgaGFiaWxpdGFyIGxvcyBzZXJ2aWNpb3MgZGUgbG9jYWxpemFjacOzbiBlbiBzdSBkaXNwb3NpdGl2bz9cIilcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbkNvdW5jaWxTZWxlY3RvcigpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH07XG5cbiAgICAgIC8qKiBGSUxURVJTIEpTICovXG4gICAgICAkc2NvcGUuc3VibWl0RmlsdGVycyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5maWx0ZXJzKTtcbiAgICAgICAgJHNjb3BlLkdldERhdGEoJHNjb3BlLmZpbHRlcnMpO1xuICAgICAgfTtcbiAgICAgICRzY29wZS50b2dnbGVHcm91cCA9IGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGdyb3VwKTtcbiAgICAgICAgaWYgKCRzY29wZS5pc0dyb3VwU2hvd24oZ3JvdXApKSB7XG4gICAgICAgICAgJHNjb3BlLnNob3duR3JvdXAgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRzY29wZS5zaG93bkdyb3VwID0gZ3JvdXA7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAkc2NvcGUuaXNHcm91cFNob3duID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuICRzY29wZS5zaG93bkdyb3VwID09PSBncm91cDtcbiAgICAgIH07XG4gIH1cblxuXSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQXV0aFNlcnZpY2UnLCBbJyRodHRwJywgJyRjb3Jkb3ZhRmlsZVRyYW5zZmVyJywgJ0NvbmZpZ1NlcnZpY2UnLCdWYWxpZGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCAkY29yZG92YUZpbGVUcmFuc2ZlciwgQ29uZmlnU2VydmljZSwgVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FwaS9cIjtcblxuICByZXR1cm4ge1xuICAgIGxvZ19pbjogZnVuY3Rpb24gKHVzZXIscGFzc3dvcmQpIHtcbiAgICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXIrJyZwYXNzd29yZD0nK3Bhc3N3b3JkO1xuICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2xvZ2luJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgIH0sXG5cbiAgICBzaWduX291dDogZnVuY3Rpb24gKHBhc3N3b3JkLCBlbWFpbCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJzaWduX291dFwiLCB7IHdpdGhDcmVkZW50aWFsczogdHJ1ZSwgcGFyYW1zOiB7IHBhc3N3b3JkX3NpZ25faW46IHBhc3N3b3JkLCBlbWFpbDogZW1haWwgfSB9KTtcbiAgICB9LFxuXG4gICAgY3JlYXRlX3VzZXI6IGZ1bmN0aW9uICh1c2VyT2JqKSB7XG4gICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsICYmIFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIC8vZmlsZU5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgLy9jaHVua2VkTW9kZTogZmFsc2UsXG4gICAgICAgICAvL21pbWVUeXBlOiBcImltYWdlL2pwZ1wiLFxuICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgcGFyYW1zIDogeyAgdXNlcjogdXNlck9iai51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyT2JqLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXJPYmouZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBnZW5kZXI6IHVzZXJPYmouZ2VuZGVyLFxuICAgICAgICAgICAgICAgICAgICAgaW50ZXJlc3RlZDogdXNlck9iai5pbnRlcmVzdGVkLFxuICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB1c2VyT2JqLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgIHNob3dfbG9jYXRpb246IHVzZXJPYmouc2hvd19sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJjcmVhdGVfdXNlclwiLCB1c2VyT2JqLnBpY3R1cmVfdXJsLCBvcHRpb25zLCB0cnVzdEFsbEhvc3RzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsKXtcbiAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJwaG90b1wiLCB1c2VyT2JqLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJ1c2VyXCIsIHVzZXJPYmoudXNlcm5hbWUpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInBhc3N3b3JkXCIsIHVzZXJPYmoucGFzc3dvcmQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImVtYWlsXCIsIHVzZXJPYmouZW1haWwpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImdlbmRlclwiLCB1c2VyT2JqLmdlbmRlcik7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwiaW50ZXJlc3RlZFwiLCB1c2VyT2JqLmludGVyZXN0ZWQpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInN0YXR1c1wiLCB1c2VyT2JqLnN0YXR1cyk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwic2hvd19sb2NhdGlvblwiLCB1c2VyT2JqLnNob3dfbG9jYXRpb24pO1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnY3JlYXRlX3VzZXInLCBmb3JtRGF0YSwge1xuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eVxuICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICB2YXIgYm9keSA9ICd1c2VyPScrdXNlck9iai51c2VybmFtZSsnJnBhc3N3b3JkPScrdXNlck9iai5wYXNzd29yZCsnJmVtYWlsPScrdXNlck9iai5lbWFpbCsnJmdlbmRlcj0nK3VzZXJPYmouZ2VuZGVyO1xuICAgICAgICAgIGJvZHkgPSBib2R5ICsnJmludGVyZXN0ZWQ9Jyt1c2VyT2JqLmludGVyZXN0ZWQrJyZzdGF0dXM9Jyt1c2VyT2JqLnN0YXR1cysnJnNob3dfbG9jYXRpb249Jyt1c2VyT2JqLnNob3dfbG9jYXRpb247XG4gICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoYmFzZVVSTCArICdjcmVhdGVfdXNlcicsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfSxcblxuICAgIHBhc3N3b3JkX3JlY292ZXJ5OiBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiZm9yZ290X3Bhc3N3b3JkXCIsIHsgcGFyYW1zOiB7IGxvZ2luX2VtYWlsOiBlbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgcGFzc3dvcmRfY2hhbmdlOiBmdW5jdGlvbiAoZW1haWwsb2xkUGFzc3dvcmQsbmV3UGFzc3dvcmQsY29uZmlybVBhc3N3b3JkKSB7XG5cbiAgICAgIHZhciBib2R5ID0gJ2VtYWlsPScrZW1haWwrJyZwYXNzd29yZF9zaWduX2luPScrb2xkUGFzc3dvcmQrJyZuZXdfcGFzc3dvcmQ9JytuZXdQYXNzd29yZCsnJmNvbmZpcm09Jytjb25maXJtUGFzc3dvcmQ7XG4gICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2NoYW5nZV9wYXNzd29yZCcsIGJvZHkse2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9fSk7XG5cbiAgICB9LFxuXG5cbiAgICBlZGl0X3VzZXI6IGZ1bmN0aW9uICh1c2VyT2JqKSB7XG4gICAgICBpZih1c2VyT2JqLnBpY3R1cmVfdXJsICYmIFZhbGlkYXRpb25TZXJ2aWNlLmlzTW9iaWxlRGV2aWNlKCkpe1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIC8vZmlsZU5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgLy9jaHVua2VkTW9kZTogZmFsc2UsXG4gICAgICAgICAvL21pbWVUeXBlOiBcImltYWdlL2pwZ1wiLFxuICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICAgcGFyYW1zIDogeyAgdXNlcjogdXNlck9iai51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyT2JqLnBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXJPYmouZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBnZW5kZXI6IHVzZXJPYmouZ2VuZGVyLFxuICAgICAgICAgICAgICAgICAgICAgaW50ZXJlc3RlZDogdXNlck9iai5pbnRlcmVzdGVkLFxuICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB1c2VyT2JqLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgIHNob3dfbG9jYXRpb246IHVzZXJPYmouc2hvd19sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJlZGl0X3Byb2ZpbGVcIiwgdXNlck9iai5waWN0dXJlX3VybCwgb3B0aW9ucywgdHJ1c3RBbGxIb3N0cyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJPYmoudXNlcm5hbWUrJyZwYXNzd29yZD0nK3VzZXJPYmoucGFzc3dvcmQrJyZlbWFpbD0nK3VzZXJPYmouZW1haWwrJyZnZW5kZXI9Jyt1c2VyT2JqLmdlbmRlcjtcbiAgICAgICAgYm9keSA9IGJvZHkgKycmaW50ZXJlc3RlZD0nK3VzZXJPYmouaW50ZXJlc3RlZCsnJnN0YXR1cz0nK3VzZXJPYmouc3RhdHVzKycmc2hvd19sb2NhdGlvbj0nK3VzZXJPYmouc2hvd19sb2NhdGlvbjtcbiAgICAgICAgaWYodXNlck9iai5waWN0dXJlX3VybCl7XG4gICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwicGhvdG9cIiwgdXNlck9iai5waWN0dXJlX3VybCk7XG4gICAgICAgIFx0Zm9ybURhdGEuYXBwZW5kKFwidXNlclwiLCB1c2VyT2JqLnVzZXJuYW1lKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJwYXNzd29yZFwiLCB1c2VyT2JqLnBhc3N3b3JkKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJlbWFpbFwiLCB1c2VyT2JqLmVtYWlsKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJnZW5kZXJcIiwgdXNlck9iai5nZW5kZXIpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcImludGVyZXN0ZWRcIiwgdXNlck9iai5pbnRlcmVzdGVkKTtcbiAgICAgICAgXHRmb3JtRGF0YS5hcHBlbmQoXCJzdGF0dXNcIiwgdXNlck9iai5zdGF0dXMpO1xuICAgICAgICBcdGZvcm1EYXRhLmFwcGVuZChcInNob3dfbG9jYXRpb25cIiwgdXNlck9iai5zaG93X2xvY2F0aW9uKTtcbiAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdChiYXNlVVJMICsgJ2VkaXRfcHJvZmlsZScsIGZvcm1EYXRhLCB7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9LFxuICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGJhc2VVUkwgKyAnZWRpdF9wcm9maWxlJywgYm9keSx7d2l0aENyZWRlbnRpYWxzOiB0cnVlLCBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfX0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ2thblNlcnZpY2UnLCBbJyRodHRwJywgJ2xlYWZsZXREYXRhJywnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBsZWFmbGV0RGF0YSwgQ29uZmlnU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgICBsYXN0UGluc1Jlc3BvbnNlOiBudWxsLFxuXG4gICAgICBnZXRBbGxQb2x5Z29uczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoQ29uZmlnU2VydmljZS5ja2FuQWxsUG9seWdvbnNVUkwsIHsgaGVhZGVyczogeydBdXRob3JpemF0aW9uJzogJ2Q3ZTc4YjZlLTNlZWQtNGQ2OS04Mzg3LWFiMDE5NjEyMWE1MSd9IH0pO1xuICAgICAgfVxuICB9XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb25maWdTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgdmFyIENvbmZpZ09iaiA9IHt9O1xuICBDb25maWdPYmouYmFzZVVSTCA9IFwiaHR0cDovL2JhY2tlbmQudGVjaG91eS50aG9yLmRhdGF1eS5vcmdcIjtcbiAgQ29uZmlnT2JqLmNrYW5BbGxQb2x5Z29uc1VSTCA9IFwiL2NrYW5cIjtcbiAgLy9Db25maWdPYmouY2thbkFsbFBvbHlnb25zVVJMID0gXCIvY2thblwiO1xuICAvKmlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICBDb25maWdPYmouYmFzZVVSTCA9IFwiaHR0cDovL2JhY2tlbmQuZWR1Y2FjaW9uLnRob3IuZGF0YXV5Lm9yZ1wiO1xuICB9IGVsc2Uge1xuICAgIENvbmZpZ09iai5iYXNlVVJMID0gXCIvYmFja2VuZFwiO1xuICB9Ki9cbiAgQ29uZmlnT2JqLkFwcE5hbWUgPSBcIlRFQ0hPIFVZXCI7XG5cblxuICByZXR1cm4gQ29uZmlnT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29ubmVjdGl2aXR5U2VydmljZScsIFsnJGNvcmRvdmFOZXR3b3JrJywgZnVuY3Rpb24oJGNvcmRvdmFOZXR3b3JrKXtcblxuICByZXR1cm4ge1xuICAgIGlzT25saW5lOiBmdW5jdGlvbigpe1xuICAgICAgLyppZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgIHJldHVybiAkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgICAvL3JldHVybiBmYWxzZTtcbiAgICAgIH0qL1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBpc09mZmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAvKmlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICAgICAgcmV0dXJuICEkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAhbmF2aWdhdG9yLm9uTGluZTtcbiAgICAgIH0qL1xuICAgIH1cbiAgfVxufV0pXG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnREJTZXJ2aWNlJywgWyckcScsIGZ1bmN0aW9uKCRxKSB7XG4gICB2YXIgX2RiO1xuXG4gICByZXR1cm4ge1xuICAgICAgIGluaXREQjogaW5pdERCLFxuICAgICAgIHNhdmVVc2VyOiBzYXZlVXNlcixcbiAgICAgICBnZXRVc2VyOiBnZXRVc2VyLFxuICAgICAgIGVyYXNlVXNlcjogZXJhc2VVc2VyLFxuICAgICAgIHNhdmVSZXBvcnQ6IHNhdmVSZXBvcnQsXG4gICAgICAgZ2V0UmVwb3J0OiBnZXRSZXBvcnQsXG4gICAgICAgZ2V0QWxsUmVwb3J0czogZ2V0QWxsUmVwb3J0cyxcbiAgICAgICB1cGRhdGVSZXBvcnQ6IHVwZGF0ZVJlcG9ydCxcbiAgICAgICBkZWxldGVSZXBvcnQ6IGRlbGV0ZVJlcG9ydCxcbiAgICAgICBkZWxldGVHaXZlblJlcG9ydDogZGVsZXRlR2l2ZW5SZXBvcnQsXG4gICAgICAgZ2V0Q2F0ZWdvcmllczogZ2V0Q2F0ZWdvcmllcyxcbiAgICAgICBzYXZlQ2F0ZWdvcmllczogc2F2ZUNhdGVnb3JpZXNcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVVc2VyKHVzZXJfbmFtZSwgdXNlcl9wYXNzd29yZCwgdXNlcl9waWN0dXJlX3VybCxzaG93X2xvY2F0aW9uLCB1aWQsIHN0YXR1cywgZ2VuZGVyLCBpbnRlcmVzdGVkKSB7XG4gICAgICAgICB2YXIgdXNlciA9IHtcbiAgICAgICAgICAgIF9pZDogJ3VzZXItbG9nZ2VkJyxcbiAgICAgICAgICAgIG5hbWU6IHVzZXJfbmFtZSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyX3Bhc3N3b3JkLFxuICAgICAgICAgICAgcGljdHVyZV91cmw6IHVzZXJfcGljdHVyZV91cmwsXG4gICAgICAgICAgICBzaG93X2xvY2F0aW9uOiBzaG93X2xvY2F0aW9uLFxuICAgICAgICAgICAgdWlkOiB1aWQsXG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICAgIGdlbmRlcjogZ2VuZGVyLFxuICAgICAgICAgICAgaW50ZXJlc3RlZDogaW50ZXJlc3RlZFxuICAgICAgICAgfTtcbiAgICAgICAgIGdldFVzZXIoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgdXNlci5fcmV2ID0gZG9jLl9yZXY7XG4gICAgICAgICAgIHJldHVybiBfZGIucHV0KHVzZXIpO1xuICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICByZXR1cm4gX2RiLnB1dCh1c2VyKTtcbiAgICAgICAgIH0pXG4gICB9O1xuXG4gIGZ1bmN0aW9uIGdldFVzZXIoKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KCd1c2VyLWxvZ2dlZCcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGVyYXNlVXNlcigpIHtcbiAgICBfZGIuZ2V0KCd1c2VyLWxvZ2dlZCcpLnRoZW4oZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2RiLnJlbW92ZShkb2MpO1xuICAgIH0pO1xuICB9XG5cbiAgIGZ1bmN0aW9uIGluaXREQigpIHtcbiAgICAgICAvLyBDcmVhdGVzIHRoZSBkYXRhYmFzZSBvciBvcGVucyBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuICAgICAgIF9kYiA9IG5ldyBQb3VjaERCKCd0b21hbW9zdW5hX2xvY2FsX2RiJyk7XG4gICAgICAgcmV0dXJuIF9kYjtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVSZXBvcnQocmVwb3J0KSB7XG4gICAgICAvL25ld19yZXBvcnRfaWQgPSBcInJlcG9ydF9cIiArIHBvdWNoQ29sbGF0ZS50b0luZGV4YWJsZVN0cmluZyhbcmVwb3J0XSk7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICB2YXIgbmV3X3JlcG9ydF9pZCA9IFwicmVwb3J0X1wiICsgZGF0ZS5nZXRGdWxsWWVhcigpICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpICsgZGF0ZS5nZXREYXRlKCkgKyBkYXRlLmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgcmVwb3J0Ll9pZCA9IG5ld19yZXBvcnRfaWQ7XG4gICAgICByZXR1cm4gX2RiLnB1dChyZXBvcnQpO1xuICAgfTtcblxuICAgZnVuY3Rpb24gdXBkYXRlUmVwb3J0KHJlcG9ydCkge1xuICAgICByZXR1cm4gX2RiLnB1dChyZXBvcnQpO1xuICB9O1xuXG4gICBmdW5jdGlvbiBnZXRDYXRlZ29yaWVzKCkge1xuICAgICByZXR1cm4gX2RiLmdldCgnY2F0ZWdvcmllcy1saXN0Jyk7XG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlQ2F0ZWdvcmllcyhjYXRlZ29yaWVzKSB7XG4gICAgIGdldENhdGVnb3JpZXMoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICBjYXRlZ29yaWVzLl9yZXYgPSBkb2MuX3JldjtcbiAgICAgICByZXR1cm4gX2RiLnB1dChjYXRlZ29yaWVzKTtcbiAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgIGNhdGVnb3JpZXMuX2lkID0gXCJjYXRlZ29yaWVzLWxpc3RcIjtcbiAgICAgICByZXR1cm4gX2RiLnB1dChjYXRlZ29yaWVzKTtcbiAgICAgfSlcbiAgIH07XG5cbiAgZnVuY3Rpb24gZ2V0UmVwb3J0KHJlcG9ydElkKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KHJlcG9ydElkKTtcbiAgfTtcblxuICAgZnVuY3Rpb24gZ2V0QWxsUmVwb3J0cygpIHtcbiAgICAgcmV0dXJuIF9kYi5hbGxEb2NzKHtcbiAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgIGF0dGFjaG1lbnRzOiBmYWxzZSxcbiAgICAgIHN0YXJ0a2V5OiAncmVwb3J0XycsXG4gICAgICBlbmRrZXk6ICdyZXBvcnRfXFx1ZmZmZidcbiAgICAgfSk7LyoudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAvLyBoYW5kbGUgcmVzdWx0XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTsqL1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlbGV0ZVJlcG9ydChyZXBvcnRfaWQpIHtcbiAgICBfZGIuZ2V0KHJlcG9ydF9pZCkudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfZGIucmVtb3ZlKGRvYyk7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGVsZXRlR2l2ZW5SZXBvcnQocmVwb3J0KSB7XG4gICAgcmV0dXJuIF9kYi5yZW1vdmUocmVwb3J0KTtcbiAgfTtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0Vycm9yU2VydmljZScsIFsnJGh0dHAnLCckaW9uaWNQb3B1cCcsICdWYWxpZGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCRpb25pY1BvcHVwLFZhbGlkYXRpb25TZXJ2aWNlKSB7XG5cbiAgcmV0dXJuIHtcbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWw6IGZ1bmN0aW9uIChqc29uUmVzdWx0LCBlcnJvckNvbnRhaW5lcklkKSB7XG4gICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YSAmJiBqc29uUmVzdWx0LmRhdGEuU3RhdHVzPT1cInN1Y2Nlc3NcIiB8fCBqc29uUmVzdWx0LlN0YXR1cz09XCJzdWNjZXNzXCIpe1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGlmKGpzb25SZXN1bHQuZGF0YSl7XG4gICAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsganNvblJlc3VsdC5kYXRhLk1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGpzb25SZXN1bHQuTWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgfVxuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4OiBmdW5jdGlvbiAoanNvblJlc3VsdCkge1xuICAgICAgaWYoanNvblJlc3VsdC5kYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX3BvcHVwOiBmdW5jdGlvbiAoanNvblJlc3VsdCkge1xuICAgICAgaWYoanNvblJlc3VsdC5kYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgIHRlbXBsYXRlOiBqc29uUmVzdWx0LmRhdGEubWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWw6IGZ1bmN0aW9uIChkYXRhLCBlcnJvckNvbnRhaW5lcklkKSB7XG4gICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgIGlmKGRhdGEuU3RhdHVzIT0nc3VjY2Vzcycpe1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBkYXRhLk1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaWYoZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHNob3dfZXJyb3JfbWVzc2FnZTogZnVuY3Rpb24gKGVycm9yQ29udGFpbmVySWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIG1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwOiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICB0ZW1wbGF0ZTogbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgY2hlY2tfZmllbGRzOiBmdW5jdGlvbiAoZmllbGRzLCBlcnJvckNvbnRhaW5lcklkKSB7XG4gICAgICB2YXIgZXJyb3JzID0gXCJcIjtcbiAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwibm90TnVsbFwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfbm90X2VtcHR5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBwdWVkZSBlc3RhciB2YWPDrW8uPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImVtYWlsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lbWFpbChmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gZXMgdW5hIGRpcmVjY2nDs24gZGUgY29ycmVvIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImlkZG9jX3V5XCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9pZGRvY191eShmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gZXMgdW5hIGPDqWR1bGEgdXJ1Z3VheWEgdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwidHdvX3dvcmRzXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV90d29fd29yZHMoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIGRlYmUgY29udGVuZXIgYWwgbWVub3MgZG9zIHBhbGFicmFzLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJlcXVhbHNUb1wiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfZXF1YWxzVG8oZmllbGQudmFsdWUsIGZpZWxkLnNlY29uZFZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gTG9zIGNhbXBvcyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIGNvaW5jaWRlbi48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmKGVycm9ycyA9PVwiXCIpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPSBlcnJvcnM7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0xvYWRlcicsIFsnJGlvbmljTG9hZGluZycsICckdGltZW91dCcsJyRpb25pY1BvcHVwJyxmdW5jdGlvbigkaW9uaWNMb2FkaW5nLCR0aW1lb3V0LCRpb25pY1BvcHVwKSB7XG5cbiAgdmFyIExPQURFUkFQSSA9IHtcblxuICAgIHNob3dMb2FkaW5nOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICB0ZXh0ID0gdGV4dCB8fCAnTG9hZGluZy4uLic7XG4gICAgICAkaW9uaWNMb2FkaW5nLnNob3coe1xuICAgICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGhpZGVMb2FkaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgIH0sXG5cbiAgICB0b2dnbGVMb2FkaW5nV2l0aE1lc3NhZ2U6IGZ1bmN0aW9uKHRleHQsIHRpbWVvdXQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgc2VsZi5zaG93TG9hZGluZyh0ZXh0KTtcblxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuaGlkZUxvYWRpbmcoKTtcbiAgICAgIH0sIHRpbWVvdXQgfHwgMzAwMCk7XG4gICAgfSxcblxuICAgIGNvbmZpcm1Qb3B1cDpmdW5jdGlvbih0aXRsZSx0ZXh0KXtcbiAgICAgIHZhciBjb25maXJtUG9wdXAgPSAkaW9uaWNQb3B1cC5jb25maXJtKHtcbiAgICAgdGl0bGU6IHRpdGxlLFxuICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgfSk7XG4gICByZXR1cm4gY29uZmlybVBvcHVwO1xuIH0sXG5cblxuICAgIHNob3dBbGVydDpmdW5jdGlvbihfdGl0bGUsX3RlbXBsYXRlKSB7XG4gICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgdGl0bGU6IF90aXRsZSxcbiAgICAgICAgdGVtcGxhdGU6IF90ZW1wbGF0ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWxlcnRQb3B1cDtcbiB9XG5cbiAgfTtcbiAgcmV0dXJuIExPQURFUkFQSTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdMb2NhdGlvbnNTZXJ2aWNlJywgWyBmdW5jdGlvbigpIHtcblxuICB2YXIgbG9jYXRpb25zT2JqID0ge307XG4gIGxvY2F0aW9uc09iai5pbml0aWFsX2xhdCA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5pbml0aWFsX2xuZyA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5sYXN0X3VzZXJfbGF0ID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmxhc3RfdXNlcl9sbmcgPSBcIlwiO1xuICBsb2NhdGlvbnNPYmouY291bmNpbF9tb2RhbCA9IG51bGw7XG4gIGxvY2F0aW9uc09iai5zZWxlY3RlZF9jb3VuY2lsID0gbnVsbDtcblxuICBsb2NhdGlvbnNPYmouc2VsZWN0Q291bmNpbCA9IGZ1bmN0aW9uKGNvdW5jaWxOYW1lKSB7XG4gICAgbG9jYXRpb25zT2JqLnNlbGVjdGVkX2NvdW5jaWwgPSAgY291bmNpbE5hbWU7XG4gIH1cblxuICBsb2NhdGlvbnNPYmouc2F2ZV9pbml0aWFsX3Bvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sYXQgPSAgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgIGxvY2F0aW9uc09iai5pbml0aWFsX2xuZyA9ICBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVfbGFzdF91c2VyX3Bvc2l0aW9uID0gZnVuY3Rpb24obGF0LGxuZyl7XG4gICAgbG9jYXRpb25zT2JqLmxhc3RfdXNlcl9sYXQgPSBsYXQ7XG4gICAgbG9jYXRpb25zT2JqLmxhc3RfdXNlcl9sbmcgPSBsbmc7XG4gIH1cblxuICBsb2NhdGlvbnNPYmouc2F2ZWRMb2NhdGlvbnMgPSBbXTtcblxuICByZXR1cm4gbG9jYXRpb25zT2JqO1xuXG59XSk7XG4iLCIgLy9wbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTWFwU2VydmljZScsIFsgZnVuY3Rpb24oKSB7XG4gcG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01hcFNlcnZpY2UnLCBbJ2xlYWZsZXREYXRhJywgJyRjb21waWxlJywgZnVuY3Rpb24obGVhZmxldERhdGEsICRjb21waWxlKSB7XG5cbiAgIC8vRGVmaW5pY2lvbiBkZSBsYSBwcm95ZWNjY2lvbiBVVE0gMjEgc1xuICAgcHJvajQuZGVmcygnRVBTRzozMjcyMScsICcrcHJvaj11dG0gK3pvbmU9MjEgK3NvdXRoICtlbGxwcz1XR1M4NCArZGF0dW09V0dTODQgK3VuaXRzPW0gK25vX2RlZnMnKTtcblxuXG4gICB2YXIgbWFwU2VydmljZSA9IHt9O1xuXG4gICBtYXBTZXJ2aWNlLmdvVG9QbGFjZSA9IGZ1bmN0aW9uKG5hbWUsbGF0LGxvbixzY29wZSkge1xuICAgIHZhciBfZ2VvSnNvbiA9IHtcbiAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAgICAgICAgICAgICAgXCJjcnNcIjogeyBcInR5cGVcIjogXCJuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiAndXJuOm9nYzpkZWY6Y3JzOkVQU0c6OjMyNzIxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBcImZlYXR1cmVzXCI6IFtcbiAgICAgICAgICAgICAgICB7IFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAgICAgICAgICAgICAgICBcImdlb21ldHJ5XCI6e1xuICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjpcIlBvaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjpbbGF0LGxvbl1cbiAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOntcbiAgICAgICAgICAgICAgICAgICAgICBcIm5vbWJyZVwiOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH07XG4gICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICB2YXIgX2xhdGxuZztcbiAgICAgICB2YXIgbGF5ZXIgPSBMLlByb2ouZ2VvSnNvbihfZ2VvSnNvbiwge1xuICAgICAgICAgJ3BvaW50VG9MYXllcic6IGZ1bmN0aW9uKGZlYXR1cmUsIGxhdGxuZykge1xuICAgICAgICAgICBfbGF0bG5nID0gbGF0bG5nO1xuICAgICAgICAgICB2YXIgaHRtbFBvcFVwID0gXCI8cCBhbGlnbj0nY2VudGVyJz5cIitmZWF0dXJlLnByb3BlcnRpZXMubm9tYnJlK1wiIDxici8+IDxhIG5nLWNsaWNrPSduZXdfcmVwb3J0X2Zyb21fbGF0bG9uKFwiK19sYXRsbmcubGF0K1wiLFwiK19sYXRsbmcubG5nK1wiKTsnPkluaWNpYXIgcmVwb3J0ZSBhcXXDrTwvYT48L3A+XCI7XG4gICAgICAgICAgIHZhciBjb21waWxlZCA9ICRjb21waWxlKGh0bWxQb3BVcCkoc2NvcGUpO1xuICAgICAgICAgICByZXR1cm4gTC5tYXJrZXIobGF0bG5nKS5iaW5kUG9wdXAoY29tcGlsZWRbMF0pO1xuICAgICAgICAgfVxuICAgICAgIH0pO1xuXG4gICAgICAgbGF5ZXIuYWRkVG8obWFwKTtcbiAgICAgICBtYXAuc2V0VmlldyhfbGF0bG5nLCAxOCk7XG4gICAgICAgbGF5ZXIub3BlblBvcHVwKCk7XG4gICAgIH0pO1xuICAgfTtcblxuICBtYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzID0gZnVuY3Rpb24obGF0LGxuZyx6b29tKSB7XG4gICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5zZXRWaWV3KG5ldyBMLkxhdExuZyhsYXQsIGxuZyksem9vbSk7XG4gICAgICAgfSk7XG4gICAgIH1cblxuICAgcmV0dXJuIG1hcFNlcnZpY2U7XG5cbiB9XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTW9kYWxTZXJ2aWNlJywgWyBmdW5jdGlvbigpIHtcblxuICB2YXIgbW9kYWxPQkogPSB7fTtcbiAgbW9kYWxPQkouYWN0aXZlTW9kYWwgPSBudWxsO1xuXG4gIG1vZGFsT0JKLmNoZWNrTm9Nb2RhbElzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKG1vZGFsT0JKLmFjdGl2ZU1vZGFsKXtcbiAgICAgIG1vZGFsT0JKLmFjdGl2ZU1vZGFsLmhpZGUoKTtcbiAgICAgIG1vZGFsT0JKLmFjdGl2ZU1vZGFsLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtb2RhbE9CSjtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1BpblNlcnZpY2UnLCBbJyRodHRwJywgJ2xlYWZsZXREYXRhJywnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBsZWFmbGV0RGF0YSwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBwaW5zVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvc2l0ZXMvdG9tYW1vc191bmEvZmlsZXMvanNvbi91c2Vyc19nZW8uanNvblwiO1xuICB2YXIgYXBpVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXBpL1wiXG5cbiAgcHJvajQuZGVmcygnRVBTRzozMjcyMScsICcrcHJvaj11dG0gK3pvbmU9MjEgK3NvdXRoICtlbGxwcz1XR1M4NCArZGF0dW09V0dTODQgK3VuaXRzPW0gK25vX2RlZnMnKTtcblxuXG5cbi8qKlxuICAgKiBDb25zdHJ1Y3Rvciwgd2l0aCBjbGFzcyBuYW1lXG4gICAqL1xuICBmdW5jdGlvbiBQaW4oX2RhdGEpIHtcbiAgICBhbmd1bGFyLmV4dGVuZCh0aGlzLCBfZGF0YSk7XG4gIH1cblxuICBQaW4uY29udmVydExhdExvbmdQcm9qID0gZnVuY3Rpb24obGF0LGxvbixzY29wZSkge1xuICAgdmFyIF9nZW9Kc29uID0ge1xuICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gICAgICAgICAgICAgXCJjcnNcIjogeyBcInR5cGVcIjogXCJuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogJ3VybjpvZ2M6ZGVmOmNyczpFUFNHOjozMjcyMSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgXCJmZWF0dXJlc1wiOiBbXG4gICAgICAgICAgICAgICB7IFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAgICAgICAgICAgICAgIFwiZ2VvbWV0cnlcIjp7XG4gICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6XCJQb2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjpbbGF0LGxvbl1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjp7XG4gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIF1cbiAgICAgICAgICAgfTtcbiAgICAgIHZhciBfbGF0bG5nO1xuICAgICAgdmFyIHBvaW50ID0gTC5Qcm9qLmdlb0pzb24oX2dlb0pzb24sIHtcbiAgICAgICAgJ3BvaW50VG9MYXllcic6IGZ1bmN0aW9uKGZlYXR1cmUsIGxhdGxuZykge1xuICAgICAgICAgIF9sYXRsbmcgPSBsYXRsbmc7XG4gICAgICAgICAgcmV0dXJuIGxhdGxuZztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgcmV0dXJuIF9sYXRsbmc7XG4gIH07XG5cblxuICBQaW4uZ2V0QWxsID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KHBpbnNVUkwsIHtjYWNoZTogZmFsc2UsIHBhcmFtczoge2hhc2hfaWQ6TWF0aC5yYW5kb20oKX19KTtcbiAgfVxuXG4gIFBpbi5zZW5kVXNlckxvY2F0aW9uID0gZnVuY3Rpb24obGF0aXR1ZGUsbG9uZ2l0dWRlLHVzZXJuYW1lLHBhc3N3b3JkLHVpZCl7XG4gICAgdmFyIGJvZHkgPSAndXNlcj0nK3VzZXJuYW1lKycmcGFzc3dvcmQ9JytwYXNzd29yZCsnJmxhdD0nK2xhdGl0dWRlKycmbG9uPScrbG9uZ2l0dWRlK1wiJnVpZD1cIit1aWQ7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoYXBpVVJMICsgJ3NlbmRfdXNlcl9wb3NpdGlvbicsIGJvZHkse3dpdGhDcmVkZW50aWFsczogdHJ1ZSwgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ319KTtcblxuICB9XG5cblxuICAgIFBpbi5fYWxsID0gW107XG4gICAgUGluLmN1cnJlbnQgPSB7fTtcbiAgICBQaW4ubGFzdFBpbnNSZXNwb25zZSA9IG51bGw7XG5cblxuXG5cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgbWV0aG9kLCBhc3NpZ25lZCB0byBjbGFzc1xuICAgICAqIEluc3RhbmNlICgndGhpcycpIGlzIG5vdCBhdmFpbGFibGUgaW4gc3RhdGljIGNvbnRleHRcbiAgICAgKi9cbiAgICBQaW4uYnVpbGQgPSBmdW5jdGlvbihfZGF0YSkge1xuXG4gICAgICByZXR1cm4gbmV3IFBpbihcbiAgICAgICAgX2RhdGFcbiAgICAgICk7XG4gICAgfTtcblxuICAgIFBpbi5wcm90b3R5cGUuc2V0TGF0TG5nID0gZnVuY3Rpb24gKGxhdGxuZykge1xuXG4gICAgICB0aGlzLmxhdCA9IGxhdGxuZy5sYXQ7XG4gICAgICB0aGlzLmxvbiA9IGxhdGxuZy5sbmc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb25cbiAgICAgKi9cbiAgICByZXR1cm4gUGluO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnUG9wVXBTZXJ2aWNlJywgWyckaW9uaWNQb3B1cCcsJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGlvbmljUG9wdXAsVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICByZXR1cm4ge1xuICAgIHNob3dfYWxlcnQ6IGZ1bmN0aW9uIChhbGVydF90aXRsZSxhbGVydF9tZXNzYWdlKSB7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IGFsZXJ0X3RpdGxlLFxuICAgICAgICAgdGVtcGxhdGU6IGFsZXJ0X21lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgIGNvbmZpcm1Qb3B1cDogZnVuY3Rpb24odGl0bGUsdGV4dCl7XG4gICAgIHZhciBjb25maXJtUG9wdXAgPSAkaW9uaWNQb3B1cC5jb25maXJtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgIHJldHVybiBjb25maXJtUG9wdXA7XG4gICB9LFxuXG4gICBhc2tGb3JPbmVWYWx1ZVBvcFVwOiBmdW5jdGlvbihzY29wZSx0aXRsZSx0ZXh0LGZpZWxkX25hbWUsdmFsaWRhdGlvblR5cGUpe1xuICAgICAgJHNjb3BlID0gc2NvcGU7XG4gICAgICB2YXIgbXlQb3B1cCA9ICRpb25pY1BvcHVwLnNob3coe1xuICAgICAgdGVtcGxhdGU6IGZpZWxkX25hbWUgKyAnOiA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cIm9uZV92YWx1ZV9wb3B1cFwiPjxkaXYgaWQ9XCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCI+PC9kaXY+JyxcbiAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgIHN1YlRpdGxlOiB0ZXh0LFxuICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgeyB0ZXh0OiAnQ2FuY2VsYXInIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiAnPGI+RW52aWFyPC9iPicsXG4gICAgICAgICAgdHlwZTogJ2J1dHRvbi1wb3NpdGl2ZScsXG4gICAgICAgICAgb25UYXA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBlcnJvcnMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvbmVfdmFsdWVfcG9wdXBcIikudmFsdWU7XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfbm90X2VtcHR5KHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gcHVlZGUgZXN0YXIgdmFjw61vLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lbWFpbCh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIGVzIHVuYSBkaXJlY2Npw7NuIGRlIGNvcnJlbyB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9pZGRvY191eSh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIGVzIHVuYSBjw6lkdWxhIHVydWd1YXlhIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV90d29fd29yZHModmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBkZWJlIGNvbnRlbmVyIGFsIG1lbm9zIGRvcyBwYWxhYnJhcy48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGVycm9ycyE9XCJcIil7XG4gICAgICAgICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiKTtcbiAgICAgICAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPSBlcnJvcnM7XG4gICAgICAgICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgIC8vZG9uJ3QgYWxsb3cgdGhlIHVzZXIgdG8gY2xvc2UgdW5sZXNzIGhlIGVudGVycyB3aWZpIHBhc3N3b3JkXG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KTtcbiAgICByZXR1cm4gbXlQb3B1cDtcbiAgIH1cblxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnU2VtYXBob3JlU2VydmljZScsIFtmdW5jdGlvbigpIHtcblxuICB2YXIgc2VtYXBob3JlT2JqID0ge307XG4gIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzID0gbmV3IEFycmF5KCk7XG4gIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzWydvcGVuLW1vZGFsJ10gPSBcImF2YWlsYWJsZVwiO1xuICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1snc3VibWl0LWZvcm0nXSA9IFwiYXZhaWxhYmxlXCI7XG4gIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzWydzdWJtaXQtbG9jYXRpb24nXSA9IFwiYXZhaWxhYmxlXCI7XG4gIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzWydjYW5fdGFsayddID0gXCJhdmFpbGFibGVcIjtcblxuXG5cblxuICBzZW1hcGhvcmVPYmoudGFrZUlmQXZhaWxhYmxlID0gZnVuY3Rpb24oc2VtYXBob3JlSWQpIHtcbiAgICAvL2NvbnNvbGUubG9nKHNlbWFwaG9yZUlkICsgXCI6XCIgKyBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1tzZW1hcGhvcmVJZF0pO1xuICAgIGlmKHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXT09XCJhdmFpbGFibGVcIil7XG4gICAgICAgIHNlbWFwaG9yZU9iai5zZW1hcGhvcmVzW3NlbWFwaG9yZUlkXSA9IFwib2NjdXBpZWRcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VtYXBob3JlT2JqLm1ha2VBdmFpbGFibGVBZ2FpbiA9IGZ1bmN0aW9uKHNlbWFwaG9yZUlkKSB7XG4gICAgaWYoc2VtYXBob3JlT2JqLnNlbWFwaG9yZXNbc2VtYXBob3JlSWRdPT1cIm9jY3VwaWVkXCIpe1xuICAgICAgICBzZW1hcGhvcmVPYmouc2VtYXBob3Jlc1tzZW1hcGhvcmVJZF0gPSBcImF2YWlsYWJsZVwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2VtYXBob3JlT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnbG9jYXRpb25BUEknLCBbJyRodHRwJywgJyRxJywgJ0FwaUltRW5kcG9pbnQnLCAnQXBpRGF0YUVuZHBvaW50JywgJ0NvbmZpZ1NlcnZpY2UnLCAnTG9jYXRpb25zU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCAkcSwgQXBpSW1FbmRwb2ludCwgQXBpRGF0YUVuZHBvaW50LCBDb25maWdTZXJ2aWNlLCBMb2NhdGlvbnNTZXJ2aWNlKSB7XG5cbiAgdmFyIHJlc3RQcmVmZml4ID0gXCJ1YmljYWNpb25lc1Jlc3RQcm9kXCI7XG5cblxuICB2YXIgbG9jYXRpb25BUEkgPSB7fTtcblxuICBsb2NhdGlvbkFQSS5zZWFyY2hMb2NhdGlvbkJ5U3RyID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgLypyZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2NhbGxlcycsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgbm9tYnJlOiBfbG9jYXRpb25cbiAgICAgIH1cbiAgICB9KTsqL1xuICAgIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYWpheC9nZW9jb2RlP3Rlcm09XCIgKyBMb2NhdGlvbnNTZXJ2aWNlLnNlbGVjdGVkX2NvdW5jaWwgKyBcIixcIiArIF9sb2NhdGlvbjtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6IHt9XG4gICAgfSk7XG4gIH07XG5cblxuICBsb2NhdGlvbkFQSS5zZWFyY2hFc3F1aW5hQnlTdHIgPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICAvL2NvbnNvbGUubG9nKFwic2VhcmNoRXNxdWluYUJ5U3RyID0gXCIgKyBKU09OLnN0cmluZ2lmeShfbG9jYXRpb24pKTtcbiAgICAvL3JldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvZXNxdWluYS8nICsgX2xvY2F0aW9uLmNhbGxlICsgJy8nICsgX2xvY2F0aW9uLmVzcXVpbmEsIHtcbiAgICAgIC8qcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9jcnVjZXMvJyArIF9sb2NhdGlvbi5jYWxsZSArICcvJyxcbiAgICAgIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgbm9tYnJlOiBfbG9jYXRpb24uZXNxdWluYVxuICAgICAgICB9XG4gICAgICB9KTsqL1xuXG4gICAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2FqYXgvZ2VvY29kZT90ZXJtPVwiICsgTG9jYXRpb25zU2VydmljZS5zZWxlY3RlZF9jb3VuY2lsICsgXCIsXCJcbiAgICAgICAgICAgICAgICAgICAgKyBfbG9jYXRpb24uY2FsbGUgKyBcIixcIiArIF9sb2NhdGlvbi5lc3F1aW5hO1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhcmFtczoge31cbiAgICAgIH0pO1xuICB9O1xuXG4gIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbSA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIHZhciB1cmwgPSBBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgbG9jYXRpb25BUEkuZ2V0UGFyYW1QYXRoQnlUaXBvKF9sb2NhdGlvbi50aXBvKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9sb2NhdGlvbi5wYXRoUGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1cmwgKz0gJy8nICsgX2xvY2F0aW9uLnBhdGhQYXJhbXNbaV07XG4gICAgfVxuICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9KTtcbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb21QTUIgPSBmdW5jdGlvbihjYWxsZSxlc3F1aW5hX251bWVybyx0aXBvKSB7XG4gICAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hamF4L2dlb2NvZGU/dGVybT1cIiArIExvY2F0aW9uc1NlcnZpY2Uuc2VsZWN0ZWRfY291bmNpbCArIFwiLFwiXG4gICAgICAgICAgICAgICsgY2FsbGUgKyBcIixcIiArIGVzcXVpbmFfbnVtZXJvICsgXCIsXCIgKyB0aXBvO1xuXG4gICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMKTtcblxuICB9O1xuXG4gIGxvY2F0aW9uQVBJLmdldFBhcmFtUGF0aEJ5VGlwbyA9IGZ1bmN0aW9uKF90aXBvKSB7XG5cbiAgICB2YXIgcmVzdEdlb0RhdGFTZXJ2aWNlUGF0aCA9IHtcbiAgICAgICdFU1FVSU5BJzpcIi9lc3F1aW5hXCIsXG4gICAgICAnRElSRUNDSU9OJzpcIi9kaXJlY2Npb25cIlxuICAgIH07XG5cbiAgICByZXR1cm4gcmVzdEdlb0RhdGFTZXJ2aWNlUGF0aFtfdGlwb107XG5cblxuICB9O1xuXG4gIHJldHVybiBsb2NhdGlvbkFQSTtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ18nLCBbZnVuY3Rpb24oKSB7XG4gIHJldHVybiB3aW5kb3cuXzsgLy9VbmRlcnNjb3JlIG11c3QgYWxyZWFkeSBiZSBsb2FkZWQgb24gdGhlIHBhZ2Vcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdVc2VyU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIC8vdmFyIGJhc2VVUkwgPSBcImh0dHA6Ly9wbWJ1eS5kZXZlbG9wbWVudC5kYXRhdXkub3JnL2F1dGgvYWpheC9cIjtcbiAgdmFyIFVzZXJPYmogPSB7fTtcbiAgVXNlck9iai51aWQgPSBudWxsO1xuICBVc2VyT2JqLm5hbWUgPSBudWxsO1xuICBVc2VyT2JqLmVtYWlsID0gbnVsbDtcbiAgVXNlck9iai5wYXNzd29yZCA9IG51bGw7XG4gIFVzZXJPYmoucGljdHVyZV91cmwgPSBcInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcbiAgVXNlck9iai5zaG93X2xvY2F0aW9uID0gbnVsbDtcblxuXG4gIFVzZXJPYmouc2F2ZV91c2VyX2RhdGEgPSBmdW5jdGlvbiAodXNlcl9uYW1lLCB1c2VyX3Bhc3N3b3JkLCB1c2VyX3BpY3R1cmVfdXJsLCBzaG93X2xvY2F0aW9uLCB1aWQsIHN0YXR1cywgZ2VuZGVyLCBpbnRlcmVzdGVkKSB7XG4gICAgICBVc2VyT2JqLnVpZCA9IHVpZDtcbiAgICAgIFVzZXJPYmoubmFtZSA9IHVzZXJfbmFtZTtcbiAgICAgIFVzZXJPYmoucGFzc3dvcmQgPSB1c2VyX3Bhc3N3b3JkO1xuICAgICAgVXNlck9iai5waWN0dXJlX3VybCA9IHVzZXJfcGljdHVyZV91cmw7XG4gICAgICBVc2VyT2JqLnNob3dfbG9jYXRpb24gPSBzaG93X2xvY2F0aW9uO1xuICAgICAgVXNlck9iai5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICBVc2VyT2JqLmdlbmRlciA9IGdlbmRlcjtcbiAgICAgIFVzZXJPYmouaW50ZXJlc3RlZCA9IGludGVyZXN0ZWQ7XG5cbiAgICAgIC8vU0FWRSBJTiBQT1VDSERCXG4gIH1cblxuICBVc2VyT2JqLmVyYXNlX3VzZXJfZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICBVc2VyT2JqLm5hbWUgPSBudWxsO1xuICAgIFVzZXJPYmouZW1haWwgPSBudWxsO1xuICAgIFVzZXJPYmoucGFzc3dvcmQgPSBudWxsO1xuICAgIFVzZXJPYmouaWRlbnRpdHlfZG9jdW1lbnQgPSBudWxsO1xuICAgIFVzZXJPYmoucGhvbmUgPSBudWxsO1xuICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSBudWxsO1xuICAgIC8vREVMRVRFIElOIFBPVUNIREJcbiAgfVxuXG4gIFVzZXJPYmouZ2V0X3VzZXJfZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL0xFVkFOVEEgREUgUE9VQ0hEQiBMT1MgREFUT1MgREVMIFVTVUFSSU8uIFNJIEhBWSBMT1MgUE9ORSBFTiBMQVMgVkFSSUFCTEVTIERFTCBTRVJWSUNJTy4gU0kgTk8gSEFZIFBPTkUgVE9ETyBOVUxMXG4gIH1cblxuICBVc2VyT2JqLmFkZF9waG90byA9IGZ1bmN0aW9uICh1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgVXNlck9iai5waWN0dXJlX3VybCA9IHVzZXJfcGljdHVyZV91cmw7XG4gIH1cblxuICBVc2VyT2JqLmlzTG9nZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmKFVzZXJPYmoubmFtZSE9bnVsbCAmJiBVc2VyT2JqLm5hbWUhPVwiXCIpe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cblxuICByZXR1cm4gVXNlck9iajtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1ZhbGlkYXRpb25TZXJ2aWNlJywgWyckaHR0cCcsJyRpb25pY1BvcHVwJywgZnVuY3Rpb24oJGh0dHAsJGlvbmljUG9wdXApIHtcblxuICByZXR1cm4ge1xuICAgIGlzTW9iaWxlRGV2aWNlOiBmdW5jdGlvbigpe1xuICAgICAgaWYod2luZG93LmNvcmRvdmEpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9ub3RfZW1wdHk6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV90d29fd29yZHM6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFyIHZhbHVlcyA9IHZhbHVlLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uKHYpe3JldHVybiB2IT09Jyd9KTtcbiAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgLy90d28gb3IgbW9yZSB3b3Jkc1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvL25vdCBlbm91Z2ggd29yZHNcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2VxdWFsc1RvOiBmdW5jdGlvbiAodmFsdWUsc2Vjb25kVmFsdWUpIHtcbiAgICAgIGlmKHZhbHVlPT1zZWNvbmRWYWx1ZSl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfZW1haWw6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFyIHJlID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gICAgICAgICAgcmV0dXJuIHJlLnRlc3QodmFsdWUpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfaWRkb2NfdXk6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgICAgICB2YXIgZGlnID0gdmFsdWVbdmFsdWUubGVuZ3RoIC0gMV07XG4gICAgICAgICAgdmFyIGEgPSAwOyB2YXIgaSA9IDA7XG4gICAgICAgICAgaWYodmFsdWUubGVuZ3RoIDw9IDYpe1xuICAgICAgICAgICAgZm9yKGkgPSB2YWx1ZS5sZW5ndGg7IGkgPCA3OyBpKyspe1xuICAgICAgICAgICAgICB2YWx1ZSA9ICcwJyArIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IoaSA9IDA7IGkgPCA3OyBpKyspe1xuICAgICAgICAgICAgYSArPSAocGFyc2VJbnQoXCIyOTg3NjM0XCJbaV0pICogcGFyc2VJbnQodmFsdWVbaV0pKSAlIDEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgIGlmKGElMTAgPT09IDApe1xuICAgICAgICAgICAgcmVzdWx0ID0gMDtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJlc3VsdCA9IDEwIC0gYSAlIDEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihkaWcgPT0gcmVzdWx0KXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV0pO1xuIl19
